{"version":3,"file":"static/js/528.xxxxxxxx.chunk.js","sources":["assets/svg/important.svg","apis/apply.ts","const/bank.ts","hooks/useBankHelper.ts","hooks/useMedicalInsuranceAuthHelper.ts","../../../packages/common/dist/utils/navigate.js","store/webHistoryStore.ts","services/applyTrackHelper.ts","services/applyClaim.ts","services/applyInfoCacheHelper.ts","store/applyFormStore.ts","hooks/useNewLoginUserInfo.ts","assets/svg/grey-star.svg","assets/svg/orange-camera.svg","assets/svg/orange-refresh.svg","views/ApplyClaim/components/ClaimAgencyInfo.tsx","views/ApplyClaim/components/form/BankSelector.tsx","assets/svg/bold-check-mark.svg","views/ApplyClaim/components/form/BarListSelector.tsx","assets/svg/required.svg","assets/svg/question2.svg","views/ApplyClaim/components/form/labelNotes/LabelPopupDesc.tsx","views/ApplyClaim/components/form/labelNotes/AccidentDateDesc.tsx","views/ApplyClaim/components/form/labelNotes/AccidentTypeDesc.tsx","views/ApplyClaim/components/form/labelNotes/ExampleViewer.tsx","views/ApplyClaim/components/form/labelNotes/index.ts","views/ApplyClaim/components/form/SectionHeader.tsx","views/ApplyClaim/components/form/FormItemLabel.tsx","views/ApplyClaim/components/form/InputAddress.tsx","views/ApplyClaim/components/form/inputBank.tsx","views/ApplyClaim/components/form/InputMobile.tsx","views/ApplyClaim/components/form/InputNumber.tsx","views/ApplyClaim/components/styled.tsx","views/ApplyClaim/ApplyInfoForm.tsx","hooks/useApplyInfoFormHelper.ts","views/ApplyClaim/components/ApplyFooter.tsx","views/ApplyClaim/components/HeaderWarning.tsx","assets/svg/finish.svg","views/ApplyClaim/components/Steps.tsx","views/ApplyClaim/components/form/ImageUploader.tsx","views/ApplyClaim/MaterialForm.tsx","views/ApplyClaim/index.tsx","../../../packages/components/dist/ui/resolve-text/index.js","../../../packages/components/dist/assets/svg/search-bar-clear.svg","../../../packages/components/dist/ui/search-bar/index.js"],"sourcesContent":["var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgImportant(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 29,\n    height: 18,\n    viewBox: \"0 0 29 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.1752 18C30.9701 10.9783 25.3417 7.02389 28.1752 0L0 5.12511e-07L1.07288e-06 18H28.1752Z\",\n    fill: \"#FA564C\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.44999 7.70982V11.1498H8.50999V11.6798H5.04999V12.4298H8.50999V12.9998H4.54999V13.8098H13.45V12.9998H9.45999V12.4298H12.95V11.6798H9.45999V11.1498H12.53V7.70982H9.45999V7.21982H13.3V6.41982H9.45999V5.81982C10.55 5.74982 11.57 5.66982 12.52 5.58982L12.23 4.81982C10.22 5.01982 7.91999 5.15982 5.31999 5.23982L5.47999 5.99982C6.53999 5.95982 7.54999 5.91982 8.50999 5.86982V6.41982H4.68999V7.21982H8.50999V7.70982H5.44999ZM11.61 10.3998H9.45999V9.77982H11.61V10.3998ZM8.50999 10.3998H6.35999V9.77982H8.50999V10.3998ZM6.35999 9.05982V8.45982H8.50999V9.05982H6.35999ZM9.45999 8.45982H11.61V9.05982H9.45999V8.45982Z\",\n    fill: \"white\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.55 5.13982V5.98982H17.42V6.71982H15.15V9.36982H17.68C17.55 9.59982 17.41 9.82982 17.27 10.0698H14.42V10.9498H16.73C16.53 11.2698 16.31 11.5898 16.09 11.9098C16.86 12.0898 17.63 12.2898 18.4 12.5198C17.52 12.8198 16.27 13.0498 14.67 13.2298L15.03 14.0698C17.17 13.7798 18.71 13.3898 19.65 12.9098C20.72 13.2598 21.79 13.6598 22.85 14.1098L23.44 13.3298C22.44 12.9498 21.46 12.6098 20.51 12.3198C20.96 11.9198 21.28 11.4698 21.48 10.9498H23.57V10.0698H18.35C18.47 9.84982 18.6 9.61982 18.75 9.36982H22.85V6.71982H20.58V5.98982H23.45V5.13982H14.55ZM19.48 12.0198C18.78 11.8298 18.1 11.6698 17.43 11.5298L17.82 10.9498H20.49C20.29 11.3698 19.95 11.7198 19.48 12.0198ZM19.67 6.71982H18.33V5.98982H19.67V6.71982ZM21.94 8.55982H20.58V7.52982H21.94V8.55982ZM19.67 8.55982H18.33V7.52982H19.67V8.55982ZM17.42 8.55982H16.06V7.52982H17.42V8.55982Z\",\n    fill: \"white\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgImportant);\nexport default __webpack_public_path__ + \"static/media/important.c6a74045.svg\";\nexport { ForwardRef as ReactComponent };","import { postData, postDataWithEncrypt } from '@/services/api';\nimport { CandidatePolicy } from '@/types/applyClaim';\nimport type { CacheRes } from '@/types/cache';\nimport { IPolicyListItem } from '@/types/policyInfo';\n\n/**\n * 批量获取表单缓存信息\n * @param insuredIdNos 被保人证件号码[]\n * @returns 缓存信息\n */\nexport const getBatchCache = (insuredIdNos: string[]) => {\n  return postDataWithEncrypt<CacheRes[]>(\n    '/intelli-claim-api/intelli-claim/batch-cache-get-v1',\n    { insuredIdNos },\n  );\n};\n\n/**\n * 更新表单缓存信息\n * @param currentStep 当前步骤\n * @param operation 操作，0-暂存，1-下一步\n * @param data 缓存数据\n * @param candidate 险种id\n * @returns 缓存信息\n */\n\nexport const updateCache = (\n  currentStep: number,\n  operation: number,\n  data: object,\n  claimSource: string,\n  candidate?: CandidatePolicy[],\n) => {\n  return postDataWithEncrypt('/intelli-claim-api/intelli-claim/cache-set-v1', {\n    currentStep, // 当前步骤 1 或者 2\n    operation,\n    form: {\n      ...data,\n      candidate,\n      sourceFrom: claimSource, // a 蓝医保   b健康险   2 app   9公众号\n    },\n  });\n};\n/**\n * 撤销申请\n * @param insuredIdNo 被保人证件号码\n * @returns\n */\nexport const cancelApply = (insuredIdNo: string) => {\n  return postDataWithEncrypt('/intelli-claim-api/intelli-claim/cache-del-v1', {\n    insuredIdNo,\n  });\n};\n/**\n * 图片上传接口\n * @param files\n * @param classCode 险种code\n * @param policyNo 保单号\n * @returns null\n */\nexport const uploadImgs = ({\n  file,\n  insuredIdNo,\n}: {\n  file: File;\n  insuredIdNo?: string;\n}) => {\n  const bodyFormData = new FormData();\n  bodyFormData.append('file', file);\n  bodyFormData.append('insuredIdNo', insuredIdNo || '');\n  return postData<string>(\n    '/intelli-claim-api/image/innerUpload/v1',\n    bodyFormData,\n    {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    },\n  );\n};\n\n/** 能否理赔\n * @param policy\n * @param accidentDate 出险日期\n * @param accidentCode 就医类型\n */\nexport const canDoApply = (data: {\n  policy: IPolicyListItem;\n  accidentDate: string; // 出险日期\n  accidentCode: string; // 就医类型\n  insuredClaimEmpower: string; // 授权证明\n}) => {\n  return postDataWithEncrypt<{ status: number; msg: string }>(\n    '/intelli-claim-api/intelli-claim/checkClaimCanApply-v1',\n    {\n      insuredIdNo: data.policy.insuredIdNo,\n      policyNo: data.policy.policyNo,\n      classCode: data.policy.classCode,\n      accidentDate: data.accidentDate,\n      accidentCode: data.accidentCode,\n      insuredClaimEmpower: data.insuredClaimEmpower,\n      checkType: 2, // 1-报案； 2-理赔\n    },\n  );\n};\n\n/** 获取医保token，用于跳转医保局小程序\n * @param policy\n */\nexport const getMedicalInsuranceToken = (insuredIdNo: string) => {\n  return postDataWithEncrypt<{ token: string }>(\n    '/intelli-claim-api/intelli-claim/chs/get-chs-token-v1',\n    {\n      insuredIdNo,\n    },\n  );\n};\n","/**  DC: \"储蓄卡\", CC: \"信用卡\", SCC: \"准贷记卡\", PC: \"预付费卡\" */\nexport enum BankType {\n  /** 信用卡*/\n  CC = 'CC',\n  /** 储蓄卡*/\n  DC = 'DC',\n  /** 预付费卡 */\n  PC = 'PC',\n  /** 准贷记卡 */\n  SCC = 'SCC',\n}\n","import { useRealtimeCallback } from '@elt_common/hooks';\n\nimport { BankType } from '@/const/bank';\nimport useVenusConfig from '@/hooks/useVenusConfig';\nimport { BankRegPattern } from '@/types/venusConfig';\nimport { getValueByLabel } from '@/utils';\n\nexport default () => {\n  const { config } = useVenusConfig();\n  const bankOptions = config.commonFormOption.bank;\n  const bankPatterns = config.commonFormOption.bankPattern;\n\n  const bankMap = bankOptions.reduce((pre, next) => {\n    pre[next.value] = next.label;\n    return pre;\n  }, {} as { [key: string]: string });\n\n  const getMatchedBankPattern = useRealtimeCallback((cardNumber: string) => {\n    let matchedPattern: BankRegPattern | undefined;\n    const bankPattern = bankPatterns.find((bank) => {\n      const patterns = bank.patterns;\n      matchedPattern = patterns.find((it) =>\n        new RegExp(it.reg).test(cardNumber),\n      );\n      return matchedPattern;\n    });\n    if (bankPattern) {\n      return {\n        ...bankPattern,\n        patterns: [matchedPattern as BankRegPattern],\n      };\n    }\n    return undefined;\n  });\n  const getMatchedBank = useRealtimeCallback((cardNumber: string) => {\n    const bankPattern = getMatchedBankPattern(cardNumber);\n    if (bankPattern) {\n      const bankCode = getValueByLabel(bankOptions, bankPattern.bankName);\n      return { bankCode, bankName: bankPattern.bankName };\n    }\n    return undefined;\n  });\n  const isCreditCard = useRealtimeCallback((cardNumber: string) => {\n    if (!cardNumber) return false;\n    const parsedCardNumber = cardNumber.replace(/\\D/g, '');\n    const bankPattern = getMatchedBankPattern(parsedCardNumber);\n    if (bankPattern) {\n      return bankPattern.patterns[0]?.cardType === BankType.CC;\n    }\n    return false;\n  });\n  /** 校验银行卡号是否合法 */\n  const isValidBankCardNumber = useRealtimeCallback((rawCardNumber: string) => {\n    /** 校验长度 15 ～ 19 */\n    if (\n      !rawCardNumber ||\n      rawCardNumber?.length > 19 ||\n      rawCardNumber?.length < 15\n    ) {\n      return false;\n    }\n    /** 校验是否是纯数字 */\n    if (/[^0-9-\\s]+/.test(rawCardNumber)) return false;\n    return true;\n  });\n\n  return { bankMap, getMatchedBank, isCreditCard, isValidBankCardNumber };\n};\n","import { jumpToWXMiniProgramPage, Sentry, UA } from '@elt_common/common';\nimport { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { getMedicalInsuranceToken } from '@/apis/apply';\nimport { MEDICAL_AUTHORIZATION_AVAILABLE_IDCARD } from '@/const';\nimport useVenusConfig from '@/hooks/useVenusConfig';\nimport { IPolicyListItem } from '@/types/policyInfo';\n\nexport default () => {\n  const { config } = useVenusConfig();\n  const history = useHistory();\n  const [gettingMedicalToken, setGettingMedicalToken] = useState(false);\n\n  const canMedicalInsuranceAuthorization = useCallback(\n    (insuredIdType: string | number) => {\n      // 如果满足入口开关打开 && 是健康险｜蓝医保小程序 && 出险人证件类型满足条件，则可走跳转医保局授权的逻辑\n      return (\n        config.commonFormOption?.medicalInsuranceAuthorizationAvailable &&\n        (UA.isJkxWXMiniprogram() || UA.isLybWXMiniprogram()) &&\n        MEDICAL_AUTHORIZATION_AVAILABLE_IDCARD.includes(\n          insuredIdType?.toString() || '',\n        )\n      );\n    },\n    [config.commonFormOption?.medicalInsuranceAuthorizationAvailable],\n  );\n\n  const dealMedicalInsuranceAuthorization = useCallback(\n    async (matchedPolicy: IPolicyListItem | null) => {\n      if (gettingMedicalToken) return;\n      setGettingMedicalToken(true);\n      // 满足授权条件则跳转医保局小程序，否则跳转理赔提交页\n      const applySubmitUrl = `/apply-submit?policyNo=${\n        matchedPolicy?.policyNo ?? ''\n      }&classCode=${matchedPolicy?.classCode ?? ''}`;\n      if (\n        canMedicalInsuranceAuthorization(matchedPolicy?.insuredIdType || '')\n      ) {\n        try {\n          const res = await getMedicalInsuranceToken(\n            matchedPolicy?.insuredIdNo || '',\n          );\n          jumpToWXMiniProgramPage({\n            redirectType: 'navigateTo',\n            path: `/pages/medical-insurance-auth/index?callbackUrl=${encodeURIComponent(\n              `${location.protocol}//${location.host}/page/tthp${applySubmitUrl}`,\n            )}&token=${res.data.token}`,\n            fail: (failInfo: any) => {\n              Sentry.reportError('申请理赔页：跳转小程序中转页异常', {\n                failInfo,\n              });\n              history.push(applySubmitUrl);\n            },\n            complete: () => {\n              setGettingMedicalToken(false);\n            },\n          });\n          return;\n        } catch (error) {\n          Sentry.reportError('申请理赔页：获取医保局token异常', { error });\n        }\n      }\n      setGettingMedicalToken(false);\n      history.push(applySubmitUrl);\n    },\n    [canMedicalInsuranceAuthorization, history, gettingMedicalToken],\n  );\n\n  return {\n    canMedicalInsuranceAuthorization,\n    dealMedicalInsuranceAuthorization,\n    gettingMedicalToken,\n  };\n};\n","import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport UA from './usrAgentDetect.js';\n\n/**\n * @file: 页面跳转方法合集\n */\n/** 小程序内H5重定向到小程序原生页面 */\nfunction redirectToWxMiniAppPageInMiniApp(path) {\n  var _a, _b, _c;\n  if (!UA.isWXMiniprogram()) {\n    console.error('Faied to redirect: not in weixin mini app');\n    return;\n  }\n  const url = (path === null || path === void 0 ? void 0 : path.startsWith('/')) ? path : \"/\" + path;\n  const TabPages = ['/pages/index/index', '/pages/account/index'];\n  const {\n    wx\n  } = window;\n  if (TabPages.includes(url)) {\n    (_a = wx === null || wx === void 0 ? void 0 : wx.miniProgram) === null || _a === void 0 ? void 0 : _a.switchTab({\n      url\n    });\n    return;\n  }\n  (_c = (_b = wx === null || wx === void 0 ? void 0 : wx.miniProgram) === null || _b === void 0 ? void 0 : _b.redirectTo) === null || _c === void 0 ? void 0 : _c.call(_b, {\n    url\n  });\n}\n/** 小程序内重定向到小程序登陆页 */\nfunction redirectToLoginPageInMiniApp(returnUrl, LoginPath) {\n  if (returnUrl === void 0) {\n    returnUrl = '';\n  }\n  if (LoginPath === void 0) {\n    LoginPath = '/pages/login/index';\n  }\n  let callbackUrl = returnUrl;\n  if (!returnUrl) {\n    const url = new URL(location.href);\n    url.searchParams.delete('tempCode');\n    url.searchParams.delete('reportExt');\n    callbackUrl = encodeURIComponent(returnUrl || url.href);\n  }\n  const path = LoginPath + \"?returnUrl=\" + callbackUrl;\n  redirectToWxMiniAppPageInMiniApp(path);\n}\n/** 小程序内H5重定向到小程序原生页面\n * @param path 跳转小程序的路径\n * @param redirectType 跳转类型\n * @param success 跳转成功的回调函数\n * @param fail 跳转失败的回调函数\n */\nfunction jumpToWXMiniProgramPage(option) {\n  var _a, _b, _c;\n  if (!UA.isWXMiniprogram()) {\n    console.error('Failed to redirect: not in weixin mini app');\n    return;\n  }\n  const {\n    path,\n    redirectType,\n    success,\n    fail,\n    complete\n  } = option || {};\n  const url = (path === null || path === void 0 ? void 0 : path.startsWith('/')) ? path : \"/\" + path;\n  const {\n    wx\n  } = window;\n  if (redirectType && ((_a = wx === null || wx === void 0 ? void 0 : wx.miniProgram) === null || _a === void 0 ? void 0 : _a[redirectType])) {\n    (_c = (_b = wx === null || wx === void 0 ? void 0 : wx.miniProgram) === null || _b === void 0 ? void 0 : _b[redirectType]) === null || _c === void 0 ? void 0 : _c.call(_b, {\n      url,\n      success,\n      fail,\n      complete\n    });\n  } else {\n    console.error('Failed to redirect: redirect type is invalid');\n  }\n}\nexport { jumpToWXMiniProgramPage, redirectToLoginPageInMiniApp, redirectToWxMiniAppPageInMiniApp };\n","import { atom, useRecoilState } from 'recoil';\n\nexport const webHistoryState = atom<{ isClaimDetailBack: boolean }>({\n  key: 'webHistoryState',\n  default: { isClaimDetailBack: false },\n});\n\nexport const useWebHistoryState = () => {\n  return useRecoilState(webHistoryState);\n};\n","import { track } from '@elt_common/common';\n\nimport { PersonAge, Step } from '@/const';\nimport { IPolicyListItem } from '@/types/policyInfo';\nimport { MaterialMeta } from '@/types/venusConfig';\n// 循环多次上报\nconst circleReport = <T>(func: (p: T) => void, dataArr: T[]) => {\n  dataArr.forEach((item) => {\n    func(item);\n  });\n};\n// 理赔申请信息填写页 区分步骤\nconst getApplyStepPageName = (step: Step) =>\n  step === Step.one\n    ? '理赔申请信息填写页-信息填写'\n    : '理赔申请信息填写页-材料上传';\n\n/**\n * @file 申请理赔信息填写埋点\n */\n\n/** 理赔_等待期弹窗曝光 */\nconst trackClmWaitingPeriodPopupView = () => {\n  track.view('clm_waiting_period_popup_view');\n};\n/** 理赔_等待期弹窗点击\n * @param btnName 再想想、继续提交、取消\n */\nconst trackClmWaitingPeriodPopupClick = (btnName: string) => {\n  track.click('clm_waiting_period_popup_click', { button_name: btnName });\n};\n/** 理赔_取消理赔弹窗曝光 */\nconst trackClmCancelPopupView = (currentStep: Step) => {\n  track.view('clm_cancel_popup_view', {\n    page_name: getApplyStepPageName(currentStep),\n  });\n};\n/** 理赔_取消理赔弹窗点击 */\nconst trackClmCancelPopupClick = (currentStep: Step, btnName: string) => {\n  track.click('clm_cancel_popup_click', {\n    button_name: btnName,\n    page_name: getApplyStepPageName(currentStep),\n  });\n};\n/** 理赔_申请信息填写按钮点击 */\n/**\n * @param coverageNumber 工匹配到多少张保单\n * @param btnName 按钮名称\n * @param matchedPolicy 匹配到的唯一的保单\n */\nconst trackClmProductInfoTabView = (\n  coverageNumber: number,\n  btnName: string,\n  matchedPolicy: IPolicyListItem | null,\n) => {\n  track.click('clm_product_info_tab_view', {\n    coverage_number: coverageNumber, // 险种数量 数值型 整数型\n    is_replace_clm: matchedPolicy?.relation === '本人' ? 0 : 1, // 是否代理赔 枚举型 \"0-不是1-是\"\n    is_underage: matchedPolicy?.adult === PersonAge.adult ? 0 : 1, // 是否未成年 枚举型 \"0-不是 1-是\"\n    button_name: btnName, // 按钮名称 暂存、下一步、取消理赔\n    page_name: getApplyStepPageName(Step.one),\n  });\n};\n/** 理赔_上传照片数量 上传材料类型标题，以标题粒度上报 点击提交触发\n * @param materials { profileType: string; picNumber: number }[]\n */\ntype Material = { profileType: string; picNumber: number };\nconst trackClmUploadPicNumber = (materials: Material[]) => {\n  circleReport(\n    (material) =>\n      track.view('clm_upload_pic_number', {\n        profile_type: material.profileType,\n        pic_number: material.picNumber,\n        page_name: getApplyStepPageName(Step.two),\n      }),\n    materials,\n  );\n};\n/** 理赔_OCR弹窗曝光 曝光材料名称粒度上报\n * @param lackProfileNames string[]\n */\nconst trackClmOCRPopupView = (lackProfileNames: string[]) => {\n  circleReport(\n    (name) => track.view('clm_ocr_popup_view', { lack_profile_name: name }),\n    lackProfileNames,\n  );\n};\n/** 理赔_OCR弹窗点击\n * @param btnName 仍要提交、补充材料、取消\n */\nconst trackClmOCRPopupClick = (btnName: string) => {\n  track.click('clm_ocr_popup_click', { button_name: btnName });\n};\n/** 理赔_浏览器返回弹窗曝光 */\nconst trackClmBackPopupView = () => {\n  track.view('clm_back_popup_view');\n};\n/** 理赔_浏览器返回弹窗点击\n * @param btnName 返回上一步、退出理赔、取消\n */\nconst trackClmBackPopupClick = (btnName: string) => {\n  track.click('clm_back_popup_click', { button_name: btnName });\n};\n/** 理赔_进度条点击 */\nconst trackClmProgressBarClick = () => {\n  track.click('clm_progress_bar_click');\n};\n/** 理赔_材料上传按钮点击\n * @param btnName 按钮名称\n * @param matchedPolicy 匹配到的唯一的保单\n * @param material 所有需要上传的材料项\n */\nconst trackUploadProfileTabView = (\n  btnName: string,\n  matchedPolicy: IPolicyListItem | null,\n  materials: MaterialMeta[] = [],\n) => {\n  track.view('upload_profile_tab_view', {\n    profile_type_number: materials.length, // 材料类型数量\n    essent_profile_type_number: materials.filter(\n      (material) => material.required,\n    ).length, // 必要材料类型数量\n    is_replace_clm: matchedPolicy?.relation === '本人' ? 0 : 1, // 是否代理赔 枚举型 \"0-不是1-是\"\n    is_underage: matchedPolicy?.adult === PersonAge.adult ? 0 : 1, // 是否未成年 枚举型 \"0-不是 1-是\"\n    button_name: btnName, // 按钮名称 暂存、下一步、取消理赔\n    page_name: getApplyStepPageName(Step.two),\n  });\n};\n\nexport default {\n  trackClmWaitingPeriodPopupView,\n  trackClmWaitingPeriodPopupClick,\n  trackClmCancelPopupView,\n  trackClmCancelPopupClick,\n  trackClmProductInfoTabView,\n  trackClmUploadPicNumber,\n  trackClmOCRPopupView,\n  trackClmOCRPopupClick,\n  trackClmBackPopupView,\n  trackClmBackPopupClick,\n  trackClmProgressBarClick,\n  trackUploadProfileTabView,\n};\n","import { Sentry } from '@elt_common/common';\nimport { Modal, Toast } from '@elt_common/components';\n\nimport { canDoApply } from '@/apis/apply';\nimport { Step } from '@/const';\nimport { CheckStatus } from '@/const/reportingSubmit';\nimport ApplyTrackHelper from '@/services/applyTrackHelper';\nimport { IApplyForm } from '@/types/applyClaim';\nimport { CacheRes, UploadFileItem } from '@/types/cache';\nimport { FormRef } from '@/types/form';\nimport { IPolicyListItem } from '@/types/policyInfo';\nimport { scrollIntoViewWithOffset } from '@/utils';\n\nfunction getValuedFields(uploadFiles: Record<string, any>) {\n  const formatImgData: {\n    [x: string]: UploadFileItem[];\n  } = {};\n  const imgs: { [x: string]: any } = uploadFiles || {};\n  // 格式化去除空数据数据\n  Object.getOwnPropertyNames(imgs)?.forEach((item) => {\n    formatImgData[item] =\n      imgs?.[item]?.map((url: UploadFileItem) => ({\n        url: url?.path || url,\n        ocrType: url?.ocrType || '',\n        ocrCode: url?.ocrCode || '',\n      })) || [];\n  });\n  return formatImgData;\n}\n/** 格式化缓存接口返回，以使配表单数据 */\nexport const formatAPICacheToMemoryCache = (apiCaches: CacheRes[]) => {\n  const tmp: Record<string, IApplyForm> = {};\n  apiCaches.forEach((cache) => {\n    const { uploadFiles, ...applyInfoForm } = cache.form;\n    tmp[cache.form.insuredIdNo] = {\n      applyInfoForm: {\n        ...applyInfoForm,\n        accidentCode: applyInfoForm.accidentCode\n          ? [applyInfoForm.accidentCode]\n          : [],\n      },\n      materialForm: uploadFiles ? getValuedFields(uploadFiles) : {},\n    };\n  });\n  return tmp;\n};\n/** 第一步 点击下一步 重复性校验 等待期校验 */\nexport const checkCanApply = async (\n  form1Ref: React.RefObject<FormRef>,\n  policy: IPolicyListItem | null,\n  step: number,\n) => {\n  /** 是否需要授权委托书 */\n  const claimAgencyInfoVisible = form1Ref.current?.claimAgencyInfoVisible;\n  const insuredClaimEmpowerPic = form1Ref.current?.form?.getFieldValue(\n    'insuredClaimEmpower',\n  );\n  if (claimAgencyInfoVisible && !insuredClaimEmpowerPic && step === Step.one) {\n    scrollIntoViewWithOffset('insuredClaimEmpower', 80);\n    Toast.show('请上传授权委托书');\n    return false;\n  }\n  if (policy) {\n    try {\n      const res = await canDoApply({\n        policy,\n        accidentDate: form1Ref.current?.form?.getFieldValue('accidentDate'),\n        accidentCode:\n          form1Ref.current?.form?.getFieldValue('accidentCode')?.[0],\n        insuredClaimEmpower: insuredClaimEmpowerPic,\n      });\n      const { code, data } = res || {};\n      let flag = false;\n      if (code === 0) {\n        if (data?.status === 0) {\n          return true;\n        } else if (data?.status === CheckStatus.repetition) {\n          await Modal.alert({\n            title: '提示',\n            content:\n              data.msg ??\n              '当前出险人已有处理中的理赔申请，请等待结案后再申请下一个赔案',\n            confirmText: '我知道了',\n          });\n        } else if (data?.status === CheckStatus.waitingPeriod) {\n          // 等待期校验的弹框在第二步不再拦截提示\n          if (step === Step.one) {\n            ApplyTrackHelper.trackClmWaitingPeriodPopupView();\n            let waitingPeriodPopupCancelFlag = 'cancel';\n            await Modal.confirm({\n              title: '等待期内仅支持意外类型理赔',\n              content: data?.msg,\n              confirmText: '仍然提交',\n              cancelText: '再想想',\n              onConfirm: async () => {\n                flag = true;\n                waitingPeriodPopupCancelFlag = 'actionConfirm';\n                ApplyTrackHelper.trackClmWaitingPeriodPopupClick('继续提交');\n              },\n              onCancel: () => {\n                waitingPeriodPopupCancelFlag = 'actionCancel';\n                ApplyTrackHelper.trackClmWaitingPeriodPopupClick('再想想');\n              },\n              onClose: () => {\n                if (waitingPeriodPopupCancelFlag === 'cancel') {\n                  ApplyTrackHelper.trackClmWaitingPeriodPopupClick('取消');\n                }\n              },\n            });\n          } else {\n            flag = true;\n          }\n        } else if (data?.status === CheckStatus.invalidPolicy) {\n          await Modal.alert({\n            title: '保单状态发生变化，请重新提交申请',\n            confirmText: '我知道了',\n          });\n        } else if (data?.status === CheckStatus.noOnlineSupport) {\n          await Modal.alert({\n            title: '提示',\n            content: data.msg ?? '该产品不支持线上理赔',\n            confirmText: '我知道了',\n          });\n        } else {\n          Toast.show(data?.msg || '校验异常，请稍后再试');\n          Sentry.reportMessage(\n            '申请理赔页: 能否理赔校验接口checkClaimCanApply-v1接口数据获取｜处理异常',\n            { res },\n          );\n        }\n      }\n      return flag;\n    } catch (error) {\n      Toast.show('报案校验异常，请稍后再试');\n      Sentry.reportError('申请理赔页：校验能否理赔接口异常', { error });\n      return false;\n    }\n  }\n};\n","import { updateCache } from '@/apis/apply';\nimport { FromOperation, Step } from '@/const';\nimport { FieldValues } from '@/types';\nimport { FormRef, FormValue } from '@/types/form';\nimport { IPolicyListItem } from '@/types/policyInfo';\n\n/**\n * @param form1Ref\n * @param form2Ref\n * @param policyList 候选保单列表\n * @param currentStep 当前步骤\n * @param operation 操作，0-暂存，1-下一步\n */\nexport const tmpSave = (\n  form1Ref: React.RefObject<FormRef>,\n  form2Ref: React.RefObject<FormRef>,\n  policyList: IPolicyListItem[],\n  currentStep: Step,\n  operation: FromOperation,\n  claimSource: string,\n) => {\n  const uploadFiles: FormValue = {};\n  const form1Data = form1Ref.current?.getValues();\n  const form2Data = form2Ref.current?.getValues();\n  Object.entries(form2Data as FieldValues).forEach(([k, v]) => {\n    if (Array.isArray(v) && v.length) {\n      uploadFiles[k] = v\n        .filter((t) => Boolean(t))\n        .map((file) => {\n          return {\n            path: file.key || file.url,\n            ocrType: file?.ocrType || '',\n            ocrCode: file?.ocrCode || '',\n          };\n        });\n    }\n  });\n  // 缓存时，过滤掉无用关联字段\n  // const { [relationFormItemKey]: _x, ...data2 } =\n  //   form2Ref.current?.getValues() || {};\n\n  // 塞进 uploadFiles 中\n  const cache = {\n    ...form1Data,\n    accidentCode: form1Data?.accidentCode ? form1Data?.accidentCode[0] : '',\n    uploadFiles,\n  };\n  return updateCache(\n    currentStep,\n    operation,\n    cache,\n    claimSource,\n    policyList.map((policy) => {\n      return {\n        policyNo: policy.policyNo,\n        classCode: policy.classCode,\n        className: policy.className,\n      };\n    }),\n  );\n};\n","import { atom, useRecoilState } from 'recoil';\n\nimport { IApplyForm } from '@/types/applyClaim';\n\nconst applyFormMemoryCacheState = atom<Record<string, IApplyForm>>({\n  key: 'applyFormState',\n  default: {},\n});\n\nexport const useApplyFormMemoryCacheStore = () => {\n  return useRecoilState(applyFormMemoryCacheState);\n};\n","import { useRecoilValue } from 'recoil';\n\nimport { loginUserInfoState } from '@/store/loginNewUserInfoStore';\n\nexport default () => {\n  const userInfo = useRecoilValue(loginUserInfoState);\n  return {\n    userInfo,\n  };\n};\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgGreyStar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 8,\n    viewBox: \"0 0 8 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M3.99981 1.15039C4.33118 1.15039 4.59981 1.41902 4.59981 1.75039V2.96112L5.64839 2.35573C5.93536 2.19004 6.30232 2.28836 6.468 2.57534C6.63369 2.86232 6.53536 3.22927 6.24839 3.39496L5.19982 4.00035L6.24839 4.60574C6.53537 4.77143 6.63369 5.13838 6.46801 5.42535C6.30232 5.71233 5.93537 5.81066 5.64839 5.64497L4.59981 5.03957V6.25039C4.59981 6.58176 4.33118 6.85039 3.99981 6.85039C3.66844 6.85039 3.39981 6.58176 3.39981 6.25039V5.03958L2.35127 5.64496C2.0643 5.81064 1.69734 5.71232 1.53166 5.42534C1.36597 5.13836 1.4643 4.77141 1.75127 4.60572L2.79982 4.00035L1.75128 3.39497C1.4643 3.22929 1.36598 2.86233 1.53166 2.57536C1.69735 2.28838 2.0643 2.19005 2.35128 2.35574L3.39981 2.96111V1.75039C3.39981 1.41902 3.66844 1.15039 3.99981 1.15039Z\",\n    fill: \"#0C1E3D\",\n    fillOpacity: 0.48,\n    style: {\n      fill: \"#0C1E3D\",\n      fill: \"color(display-p3 0.0480 0.1178 0.2400)\",\n      fillOpacity: 0.48\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGreyStar);\nexport default __webpack_public_path__ + \"static/media/grey-star.fcbb4904.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgOrangeCamera(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M5.74555 2.67369L5.74762 2.67014L5.75173 2.66987C5.79925 2.66691 5.86493 2.66661 5.99265 2.66661H10.0075C10.1352 2.66661 10.2009 2.66691 10.2484 2.66987L10.2525 2.67014L10.2546 2.67369C10.2785 2.71488 10.3082 2.77348 10.3653 2.88772L10.7371 3.63142C10.8501 3.85728 11.0809 3.99994 11.3334 3.99994H12.5334C12.9178 3.99994 13.166 4.00046 13.3549 4.01589C13.536 4.03069 13.6031 4.05581 13.6361 4.07261C13.7615 4.13652 13.8635 4.23851 13.9274 4.36395C13.9442 4.39691 13.9693 4.46406 13.9841 4.64517C13.9996 4.83406 14.0001 5.08224 14.0001 5.46661V11.1999C14.0001 11.5843 13.9996 11.8325 13.9841 12.0214C13.9693 12.2025 13.9442 12.2696 13.9274 12.3026C13.8635 12.428 13.7615 12.53 13.6361 12.5939C13.6031 12.6107 13.536 12.6359 13.3549 12.6507C13.166 12.6661 12.9178 12.6666 12.5334 12.6666H3.46675C3.08238 12.6666 2.8342 12.6661 2.64531 12.6507C2.4642 12.6359 2.39705 12.6107 2.36409 12.5939C2.23865 12.53 2.13666 12.428 2.07275 12.3026C2.05595 12.2696 2.03083 12.2025 2.01603 12.0214C2.0006 11.8325 2.00008 11.5843 2.00008 11.1999V5.46661C2.00008 5.08224 2.0006 4.83406 2.01603 4.64517C2.03083 4.46406 2.05595 4.39691 2.07275 4.36395C2.13666 4.23851 2.23865 4.13652 2.36409 4.07261C2.39705 4.05581 2.4642 4.03069 2.64531 4.01589C2.8342 4.00046 3.08238 3.99994 3.46675 3.99994H4.66675C4.91926 3.99994 5.15011 3.85728 5.26303 3.63142L5.63488 2.88772L5.63521 2.88706C5.69212 2.77326 5.72169 2.7148 5.74555 2.67369ZM5.99265 1.33328L5.94219 1.33315C5.75818 1.33245 5.5269 1.33157 5.31068 1.40615C5.12385 1.47059 4.95367 1.57576 4.81248 1.71405C4.64908 1.87409 4.54643 2.08135 4.46477 2.24624L4.44231 2.29144L4.25473 2.66661H3.46675L3.44105 2.66661C3.08962 2.6666 2.78645 2.66659 2.53673 2.68699C2.27317 2.70852 2.01102 2.75607 1.75877 2.8846C1.38244 3.07634 1.07648 3.38231 0.884737 3.75863C0.756207 4.01088 0.708663 4.27303 0.687129 4.53659C0.666727 4.7863 0.666737 5.08947 0.666749 5.44089V5.46661V11.1999V11.2256C0.666737 11.5771 0.666727 11.8803 0.687129 12.13C0.708663 12.3935 0.756207 12.6557 0.884737 12.9079C1.07648 13.2842 1.38244 13.5902 1.75877 13.782C2.01102 13.9105 2.27317 13.958 2.53673 13.9796C2.78644 14 3.08961 14 3.44104 13.9999H3.46675H12.5334H12.5591C12.9106 14 13.2137 14 13.4634 13.9796C13.727 13.958 13.9891 13.9105 14.2414 13.782C14.6177 13.5902 14.9237 13.2842 15.1154 12.9079C15.244 12.6557 15.2915 12.3935 15.313 12.13C15.3334 11.8803 15.3334 11.5771 15.3334 11.2257V11.1999V5.46661V5.4409C15.3334 5.08947 15.3334 4.7863 15.313 4.53659C15.2915 4.27303 15.244 4.01088 15.1154 3.75863C14.9237 3.3823 14.6177 3.07634 14.2414 2.8846C13.9891 2.75607 13.727 2.70852 13.4634 2.68699C13.2137 2.66659 12.9105 2.6666 12.5591 2.66661L12.5334 2.66661H11.7454L11.5582 2.29223L11.5578 2.29143L11.5354 2.24624C11.4537 2.08134 11.3511 1.87409 11.1877 1.71405C11.0465 1.57576 10.8763 1.47059 10.6895 1.40615C10.4733 1.33157 10.242 1.33245 10.058 1.33315L10.0075 1.33328H5.99265ZM6.00008 7.99994C6.00008 6.89537 6.89551 5.99994 8.00008 5.99994C9.10465 5.99994 10.0001 6.89537 10.0001 7.99994C10.0001 9.10451 9.10465 9.99994 8.00008 9.99994C6.89551 9.99994 6.00008 9.10451 6.00008 7.99994ZM8.00008 4.66661C6.15913 4.66661 4.66675 6.15899 4.66675 7.99994C4.66675 9.84089 6.15913 11.3333 8.00008 11.3333C9.84103 11.3333 11.3334 9.84089 11.3334 7.99994C11.3334 6.15899 9.84103 4.66661 8.00008 4.66661Z\",\n    fill: \"#FF8812\",\n    style: {\n      fill: \"#FF8812\",\n      fill: \"color(display-p3 1.0000 0.5333 0.0706)\",\n      fillOpacity: 1\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrangeCamera);\nexport default __webpack_public_path__ + \"static/media/orange-camera.55e9c5d4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgOrangeRefresh(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M7.99992 2.66634C5.0544 2.66634 2.66659 5.05416 2.66659 7.99967C2.66659 10.9452 5.0544 13.333 7.99992 13.333C10.6419 13.333 12.8364 11.4113 13.2595 8.88937C13.3204 8.52626 13.6641 8.28128 14.0273 8.3422C14.3904 8.40312 14.6354 8.74686 14.5744 9.10998C14.0454 12.2635 11.3039 14.6663 7.99992 14.6663C4.31802 14.6663 1.33325 11.6816 1.33325 7.99967C1.33325 4.31778 4.31802 1.33301 7.99992 1.33301C10.1815 1.33301 12.1175 2.38097 13.3333 3.9992V2.66634C13.3333 2.29815 13.6317 1.99967 13.9999 1.99967C14.3681 1.99967 14.6666 2.29815 14.6666 2.66634V5.66634C14.6666 5.68935 14.6654 5.71209 14.6631 5.7345C14.629 6.07067 14.3451 6.33301 13.9999 6.33301H10.9999C10.6317 6.33301 10.3333 6.03453 10.3333 5.66634C10.3333 5.29815 10.6317 4.99967 10.9999 4.99967H12.4103C11.4497 3.59026 9.83222 2.66634 7.99992 2.66634Z\",\n    fill: \"#FF8812\",\n    style: {\n      fill: \"#FF8812\",\n      fill: \"color(display-p3 1.0000 0.5333 0.0706)\",\n      fillOpacity: 1\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrangeRefresh);\nexport default __webpack_public_path__ + \"static/media/orange-refresh.d75335b3.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * @file 代理赔授权委托书\n * @description 上传照片\n */\n\nimport { Sentry } from '@elt_common/common';\nimport {\n  Button,\n  ImageViewer,\n  ResolveText,\n  Toast,\n} from '@elt_common/components';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { memo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { uploadImgs } from '@/apis/apply';\nimport { ReactComponent as GreyStarIcon } from '@/assets/svg/grey-star.svg';\nimport { ReactComponent as CameraIcon } from '@/assets/svg/orange-camera.svg';\nimport { ReactComponent as RefreshIcon } from '@/assets/svg/orange-refresh.svg';\nimport useNewLoginUserInfo from '@/hooks/useNewLoginUserInfo';\n\nconst Container = styled.div`\n  padding: 12px;\n  background-color: var(--orange-10);\n`;\nconst FooterWrap = styled.div`\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mr4 {\n    margin-right: 4px;\n  }\n  .mr24 {\n    margin-right: 24px;\n  }\n`;\nconst BtnLabel = styled.div`\n  color: var(--orange-60);\n  font-size: var(--title-5-font-size);\n  font-weight: var(--font-weight-semibold);\n  line-height: var(--title-5-line-height);\n`;\nconst UploadButtonWrap = styled.div`\n  position: relative;\n`;\nconst StyleInput = styled.input`\n  cursor: pointer;\n  position: absolute;\n  opacity: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n`;\nconst HintWrap = styled.span`\n  margin-bottom: 4px;\n  color: var(--text-color-dark-80);\n  font-size: var(--desc-font-size);\n  line-height: var(--desc-line-height);\n`;\nconst StyledBtn = styled(Button)`\n  &.adm-button.action-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 108px;\n    height: 28px;\n    padding: 3px 0;\n    background-color: #fff;\n    border-color: var(--orange-60);\n  }\n`;\nconst OrangeHint = styled.span`\n  color: var(--orange-60);\n  font-weight: 500;\n`;\nconst StyledDesc = styled.div`\n  display: flex;\n  align-items: baseline;\n  color: var(--text-color-dark-60);\n  font-size: var(--desc-font-size);\n  line-height: var(--desc-line-height);\n`;\nconst GreyStarIconWrap = styled('div')`\n  margin-right: 4px;\n  width: 8px;\n  line-height: var(--desc-line-height);\n`;\n\nconst TopText = memo(({ insuredName }: { insuredName: string }) => {\n  const { userInfo } = useNewLoginUserInfo();\n  return (\n    <>\n      <ResolveText\n        // eslint-disable-next-line no-template-curly-in-string\n        text=\"您正在尝试代他人申请理赔，需要就诊人授权后，才能继续申请。请${orangeHintText}。\"\n        data={{\n          orangeHintText: `${insuredName}一手持身份证，另一手持《授权委托书》进行拍照上传`,\n        }}\n        container={HintWrap}\n        renderWrapper={(txt) => <OrangeHint>{txt}</OrangeHint>}\n      />\n      <StyledDesc>\n        <GreyStarIconWrap>\n          <GreyStarIcon />\n        </GreyStarIconWrap>\n        <div>\n          《授权委托书》请打印或白纸手写以下文案：“本人{insuredName}\n          现委托{userInfo?.name}代理本人办理理赔申请”。\n        </div>\n      </StyledDesc>\n      <StyledDesc>\n        <GreyStarIconWrap>\n          <GreyStarIcon />\n        </GreyStarIconWrap>\n        <div>\n          若无意愿进行授权委托，请{insuredName}用自己的账号发起理赔申请。\n        </div>\n      </StyledDesc>\n    </>\n  );\n});\n\ninterface IProps {\n  onChange?: (val: string) => void;\n  value?: string;\n  insuredName: string;\n  insuredIdNo: string;\n}\nexport default memo(({ value, insuredName, insuredIdNo, onChange }: IProps) => {\n  const [uploadLoading, setUploadLoading] = useState(false);\n\n  const uploadAuthImage = useRealtimeCallback(\n    async (e: React.ChangeEvent<HTMLInputElement>) => {\n      e.persist();\n      const { files: rawFiles } = e.target;\n      if (!rawFiles) return;\n      const files = [].slice.call(rawFiles) as File[];\n      e.target.value = ''; // HACK: fix the same file doesn't trigger onChange\n      const targetFile = files[0];\n\n      if (targetFile.size > 1024 * 1024 * 20) {\n        Toast.show('图片超过20M，请重新上传');\n        return null;\n      }\n      const nameArr = targetFile.name.split('.');\n      if (!['jpg', 'jpeg', 'png'].includes(nameArr[nameArr.length - 1])) {\n        Toast.show('只能上传jpg、jpeg、png格式');\n        return null;\n      }\n\n      try {\n        setUploadLoading(true);\n        const { data } = await uploadImgs({\n          file: targetFile,\n          insuredIdNo,\n        });\n        Toast.show('上传成功');\n        setUploadLoading(false);\n        onChange?.(data);\n      } catch (error: any) {\n        Sentry.reportError('申请理赔页：图片上传接口异常', { error });\n        Toast.show(error?.msg ?? '上传失败');\n      }\n    },\n  );\n  const viewPic = useRealtimeCallback(() => {\n    ImageViewer.Multi.show({\n      images: [value ?? ''],\n    });\n  });\n\n  return (\n    <Container>\n      <TopText insuredName={insuredName} />\n      <FooterWrap>\n        {value ? (\n          <BtnLabel className=\"mr24\" onClick={viewPic}>\n            查看已传图片\n          </BtnLabel>\n        ) : null}\n        <UploadButtonWrap>\n          <StyledBtn\n            loading={uploadLoading}\n            fill=\"outline\"\n            className=\"action-btn\"\n          >\n            {value ? (\n              <>\n                <RefreshIcon className=\"mr4\" />\n                <BtnLabel>重新上传</BtnLabel>\n              </>\n            ) : (\n              <>\n                <CameraIcon className=\"mr4\" />\n                <BtnLabel>拍照上传</BtnLabel>\n              </>\n            )}\n          </StyledBtn>\n          <StyleInput\n            accept=\"image/*\"\n            multiple={false}\n            type=\"file\"\n            onChange={uploadAuthImage}\n            aria-hidden\n          />\n        </UploadButtonWrap>\n      </FooterWrap>\n    </Container>\n  );\n});\n","import { Drawer, SearchBar } from '@elt_common/components';\nimport {\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ReactComponent as Right } from '@/assets/svg/right.svg';\n\ninterface Option<TValue = any> {\n  label: string;\n  value: TValue;\n  disabled?: boolean;\n}\nconst StyledLabel = styled.div<{ hasValue: boolean }>`\n  text-align: right;\n  font-size: var(--content-3-font-size);\n  line-height: var(--content-3-line-height);\n  ${({ hasValue }) =>\n    hasValue\n      ? css`\n          color: var(--text-color-100);\n          font-weight: var(--font-weight-semibold);\n        `\n      : css`\n          color: var(--text-color-dark-40);\n          font-weight: var(--font-weight-regular);\n        `}\n`;\nconst StyledDrawer = styled(Drawer)`\n  .adm-action-sheet-button-list {\n    overflow-y: auto;\n  }\n`;\n\nconst NoItem = styled.div`\n  padding: 14px 0;\n  text-align: center;\n  color: var(--text-color-dark-40);\n`;\n\nconst Container = styled.div<{ drawerHeight: string }>`\n  height: ${({ drawerHeight }) => drawerHeight ?? 'auto'};\n`;\n\nconst Header = styled.div`\n  padding: 0 16px;\n`;\n\nconst Content = styled.div`\n  padding: 16px 0 24px;\n  font-family: PingFang SC;\n`;\n\nconst Item = styled.div`\n  padding: 14px 16px;\n  background-color: var(--adm-color-background);\n  font-size: var(--content-2-font-size);\n  line-height: var(--content-2-line-height);\n  color: var(--adm-color-text);\n  position: relative;\n  &:last-child {\n    &::before {\n      display: none;\n    }\n  }\n  &::before {\n    content: ' ';\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 200%;\n    border-bottom: 1px solid var(--navyblue-100);\n    height: 0;\n    transform-origin: left top;\n    transform: scale(0.5);\n    pointer-events: none;\n    box-sizing: border-box;\n    opacity: 0.1;\n  }\n  &.active {\n    color: var(--paracelblue-60);\n  }\n  &.disabled {\n    cursor: not-allowed;\n    pointer-events: none;\n    opacity: 0.4;\n  }\n  .icon {\n    float: right;\n  }\n`;\n\nexport type DrawerFiledProps = {\n  value?: number | string;\n  drawerTitle: string;\n  drawerHeight: string;\n  onChange?: (value: number | string) => void;\n  placeholder?: string;\n  options: Option[];\n  showSearch?: boolean;\n};\n\ntype DrawerFiledRef = {\n  open: () => void;\n};\n\nexport default forwardRef<DrawerFiledRef, DrawerFiledProps>(\n  (\n    {\n      value = '',\n      onChange,\n      showSearch,\n      drawerTitle,\n      placeholder = '请选择开户银行',\n      options,\n      drawerHeight,\n    },\n    forwardedRef,\n  ) => {\n    const [visible, setVisible] = useState(false);\n    const [searchValue, setSearchValue] = useState('');\n    useImperativeHandle(forwardedRef, () => ({\n      open: () => {\n        setVisible(true);\n      },\n    }));\n\n    const _options = useMemo(() => {\n      if (searchValue === '') {\n        return [...options];\n      } else {\n        return options.filter((item) => item.label.includes(searchValue));\n      }\n    }, [searchValue, options]);\n\n    const onSearch = useCallback((val: string) => {\n      setSearchValue(val);\n    }, []);\n\n    const onItemClick = useCallback(\n      (val: Option['value']) => {\n        onChange?.(val);\n        setVisible(false);\n      },\n      [onChange],\n    );\n\n    return (\n      <>\n        <StyledLabel hasValue={Boolean(value)} onClick={() => setVisible(true)}>\n          {options.find((item) => item.value === value)?.label ?? placeholder}\n        </StyledLabel>\n        {/* <Input\n          readOnly\n          placeholder={placeholder ?? '请选择'}\n          onClick={() => setVisible(true)}\n          value={options.find((item) => item.value === value)?.label ?? ''}\n        /> */}\n        <StyledDrawer\n          title={drawerTitle ?? '选择'}\n          visible={visible}\n          size=\"middle\"\n          position=\"bottom\"\n          showCloseButton\n          onCloseClick={() => {\n            setVisible(false);\n            setSearchValue('');\n          }}\n        >\n          <Container drawerHeight={drawerHeight}>\n            {showSearch ? (\n              <Header>\n                <SearchBar\n                  placeholder=\"搜索\"\n                  onSearch={onSearch}\n                  // onChange={onSearch}\n                  onClear={() => onSearch('')}\n                />\n              </Header>\n            ) : null}\n            <Content>\n              {_options.map((item) => (\n                <Item\n                  className={`${value === item.value ? 'active' : ''} ${\n                    item.disabled ? 'disabled' : ''\n                  }`}\n                  key={item.value}\n                  onClick={() => onItemClick(item.value)}\n                >\n                  {item.label}\n                  {value === item.value ? <Right className=\"icon\" /> : null}\n                </Item>\n              ))}\n              {!_options.length ? (\n                <NoItem>未找到相关结果，换个关键词试试</NoItem>\n              ) : null}\n            </Content>\n          </Container>\n        </StyledDrawer>\n      </>\n    );\n  },\n);\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBoldCheckMark(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.1242 5.66934C15.636 5.18118 14.8446 5.18118 14.3564 5.66934L9.05311 10.9726L6.40146 8.32099C5.91331 7.83283 5.12185 7.83283 4.63369 8.32099C4.14554 8.80914 4.14554 9.6006 4.63369 10.0888L8.16923 13.6243C8.65738 14.1124 9.44884 14.1124 9.937 13.6243L16.1242 7.43711C16.6123 6.94895 16.6123 6.15749 16.1242 5.66934Z\",\n    fill: \"#00C0C7\",\n    style: {\n      fill: \"#00C0C7\",\n      fill: \"color(display-p3 0.0000 0.7540 0.7800)\",\n      fillOpacity: 1\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBoldCheckMark);\nexport default __webpack_public_path__ + \"static/media/bold-check-mark.a62f8302.svg\";\nexport { ForwardRef as ReactComponent };","import { useRealtimeCallback } from '@elt_common/hooks';\nimport { memo } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ReactComponent as BoldCheckMark } from '@/assets/svg/bold-check-mark.svg';\n\ntype OptionValue = number | string;\ninterface Option {\n  label: string;\n  value: OptionValue;\n  desc?: string;\n}\n\nconst Wrap = styled.div`\n  padding-top: 4px;\n`;\nconst StyledBarItem = styled.div<{ checked: boolean }>`\n  display: flex;\n  align-items: center;\n  justify-content: ${({ checked }) => (checked ? `space-between` : `start`)};\n  height: 38px;\n  width: 100%;\n  margin-bottom: 8px;\n  padding: 8px 16px;\n  background-color: ${({ checked }) =>\n    checked ? `var(--paracelblue-10)` : `var(--navyblue-10)`};\n  border-radius: 4px;\n`;\nconst BarLabel = styled.div<{ checked: boolean }>`\n  font-size: var(--content-3-font-size);\n  line-height: var(--content-3-line-height);\n  ${({ checked }) =>\n    checked\n      ? css`\n          color: var(--paracelblue-60);\n          font-weight: var(--font-weight-semibold);\n        `\n      : css`\n          color: var(--text-color-dark);\n          font-weight: var(--font-weight-regular);\n        `}\n`;\nconst CheckedIcon = styled(BoldCheckMark)`\n  width: 20px;\n  height: 20px;\n`;\n\nconst BarItem = memo(\n  ({\n    option,\n    checked,\n    onClick,\n  }: {\n    option: Option;\n    checked: boolean;\n    onClick: () => void;\n  }) => {\n    return (\n      <StyledBarItem onClick={onClick} checked={checked}>\n        <BarLabel checked={checked}>\n          {option.label}\n          {option.desc ? `(${option.desc})` : ''}\n        </BarLabel>\n        {checked && <CheckedIcon />}\n      </StyledBarItem>\n    );\n  },\n);\n\ninterface IProps {\n  onChange?: (val: OptionValue[]) => void;\n  value?: OptionValue[];\n  options: Option[];\n}\n\nexport default memo(({ onChange, value = [], options }: IProps) => {\n  const barItemClicked = useRealtimeCallback((itemValue) => {\n    const index = value?.findIndex((v) => v === itemValue);\n    const newValue = [...value];\n    if (index !== undefined && index > -1) {\n      newValue?.splice(index, 1);\n    } else {\n      newValue.push(itemValue);\n    }\n    onChange?.(newValue);\n  });\n\n  if (options?.length) {\n    return (\n      <Wrap>\n        {options.map((option) => (\n          <BarItem\n            onClick={() => barItemClicked(option.value)}\n            key={option.value}\n            option={option}\n            checked={Boolean(value?.includes(option.value))}\n          />\n        ))}\n      </Wrap>\n    );\n  }\n  return null;\n});\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgRequired(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 10,\n    viewBox: \"0 0 8 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Union\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M3.99968 0.725098C4.49674 0.725098 4.89968 1.12804 4.89968 1.6251V3.44099L6.47236 2.53301C6.90282 2.28448 7.45325 2.43197 7.70178 2.86243C7.95031 3.29289 7.80282 3.84333 7.37236 4.09185L5.79897 5.00025L7.37209 5.90849C7.80255 6.15702 7.95004 6.70745 7.70151 7.13791C7.45299 7.56837 6.90255 7.71586 6.47209 7.46733L4.89968 6.5595V8.3751C4.89968 8.87215 4.49674 9.2751 3.99968 9.2751C3.50263 9.2751 3.09968 8.87215 3.09968 8.3751V6.55868L1.52669 7.46685C1.09622 7.71538 0.545793 7.56789 0.297265 7.13743C0.0487371 6.70697 0.196225 6.15654 0.626688 5.90801L2.19897 5.00025L0.62642 4.09233C0.195956 3.84381 0.0484688 3.29337 0.296997 2.86291C0.545525 2.43245 1.09596 2.28496 1.52642 2.53349L3.09968 3.44181V1.6251C3.09968 1.12804 3.50263 0.725098 3.99968 0.725098Z\",\n    fill: \"#FA564C\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgRequired);\nexport default __webpack_public_path__ + \"static/media/required.ff6f1e17.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgQuestion2(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"#C9CFD4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M8 15.333A7.333 7.333 0 1 0 8 .667a7.333 7.333 0 0 0 0 14.666zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm.833-2.834a.833.833 0 1 1-1.666 0 .833.833 0 0 1 1.666 0zm-1.72-5.354c.106-.278.367-.477.814-.477.54 0 .917.406.917.798 0 .351-.167.54-.571.911l-.045.041c-.373.341-.958.876-.958 1.814a.667.667 0 0 0 1.334 0c0-.318.153-.489.571-.873l.025-.023c.383-.352.977-.897.977-1.87 0-1.242-1.094-2.132-2.25-2.132-.894 0-1.722.448-2.06 1.336a.667.667 0 0 0 1.245.475z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgQuestion2);\nexport default __webpack_public_path__ + \"static/media/question2.ecc67217.svg\";\nexport { ForwardRef as ReactComponent };","import { Modal } from '@elt_common/components';\nimport { memo, useCallback } from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as Question } from '@/assets/svg/question2.svg';\nimport { INounExplanation } from '@/types/applyClaim';\n\nconst StyledQuestion = styled(Question)`\n  margin-left: 4px;\n`;\n\nconst Item = styled.div`\n  margin-bottom: 16px;\n  .title {\n    color: var(--title-text-color);\n    font-family: PingFang SC;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 600;\n    line-height: 24px;\n  }\n  .content {\n    color: rgba(12, 30, 61, 0.74);\n    font-family: PingFang SC;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 22px;\n  }\n  .desc {\n    color: rgba(12, 30, 61, 0.48);\n    font-family: PingFang SC;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 22px;\n  }\n`;\n\ninterface IProps {\n  notes: INounExplanation;\n}\nexport default memo(({ notes }: IProps) => {\n  const onClick = useCallback(() => {\n    if (notes) {\n      Modal.card({\n        title: notes.title,\n        content: notes.info.map((note, index) => (\n          <Item key={note.title}>\n            <div className=\"title\">\n              {index + 1}、{note.title}\n            </div>\n            <div className=\"content\">{note.content}</div>\n            <div className=\"desc\">{note.desc}</div>\n          </Item>\n        )),\n      });\n    }\n  }, [notes]);\n  return <StyledQuestion onClick={onClick} />;\n});\n","import { memo } from 'react';\n\nimport { INounExplanation } from '@/types/applyClaim';\n\nimport LabelPopupDesc from './LabelPopupDesc';\n\nexport default memo(() => {\n  const notes: INounExplanation = {\n    title: '出险日期介绍',\n    info: [\n      {\n        title: '疾病',\n        content: '首次确诊某种疾病的日期，或首次出现某种症状的日期',\n      },\n      {\n        title: '意外',\n        content: '发生意外事故的日期',\n      },\n    ],\n  };\n  return <LabelPopupDesc notes={notes} />;\n});\n","import { memo } from 'react';\n\nimport { configData } from '@/config/applyClaim';\n\nimport LabelPopupDesc from './LabelPopupDesc';\n\nexport default memo(() => {\n  return (\n    <LabelPopupDesc notes={configData.commonFormOption.noun.accidentType} />\n  );\n});\n","import { Drawer } from '@elt_common/components';\nimport { forwardRef, useImperativeHandle, useState } from 'react';\nimport styled from 'styled-components';\n\nconst StyledDrawer = styled(Drawer)`\n  .adm-action-sheet-button-list {\n    overflow-y: auto;\n  }\n`;\n\nconst Content = styled.div`\n  padding: 16px 16px 24px;\n  min-height: 400px;\n  font-family: PingFang SC;\n\n  .header {\n    color: var(--text-color-100);\n    font-size: var(--content-2-font-size);\n    font-style: normal;\n    font-weight: 600;\n    line-height: 24px;\n    margin-bottom: 8px;\n  }\n  .detail {\n    color: var(--text-color-80);\n    font-size: var(--content-3-font-size);\n    font-style: normal;\n    font-weight: 400;\n    line-height: 22px;\n    margin-bottom: 8px;\n  }\n  .desc {\n    color: var(--text-color-60);\n    font-size: var(--content-5-font-size);\n    font-style: normal;\n    font-weight: 400;\n    line-height: 18px;\n  }\n  img {\n    margin-top: 16px;\n    width: 100%;\n    object-fit: cover;\n  }\n`;\n\nconst MSpan = styled.span`\n  color: var(--blue-60);\n  margin-left: 12px;\n  font-family: PingFang SC;\n  font-style: normal;\n  font-weight: 400;\n  font-size: var(--content-3-font-size);\n`;\n\nexport default forwardRef((props: any, forwardedRef) => {\n  const [visible, setVisible] = useState(false);\n  useImperativeHandle(forwardedRef, () => ({\n    open: () => {\n      setVisible(true);\n    },\n  }));\n\n  return (\n    <>\n      <MSpan onClick={() => setVisible(true)}>查看示例</MSpan>\n      <StyledDrawer\n        title={props.title}\n        visible={visible}\n        size=\"middle\"\n        position=\"bottom\"\n        showCloseButton={true}\n        onCloseClick={() => setVisible(false)}\n        onMaskClick={() => {\n          setVisible(false);\n        }}\n      >\n        <Content>\n          <div className=\"header\">{props.header}</div>\n          <div className=\"detail\">{props.detail}</div>\n          <div className=\"desc\">{props.desc}</div>\n          <div className=\"img\">\n            {Array.isArray(props.imgURL) ? (\n              props.imgURL.map((item: string) => (\n                <img key={item} src={item} alt=\"\" />\n              ))\n            ) : (\n              <img src={props.imgURL} alt=\"\" />\n            )}\n          </div>\n        </Content>\n      </StyledDrawer>\n    </>\n  );\n});\n","import styled from 'styled-components';\n\nimport AccidentDateDesc from './AccidentDateDesc';\nimport AccidentTypeDesc from './AccidentTypeDesc';\nimport ExampleViewer from './ExampleViewer';\n\nconst StyledString = styled.span`\n  margin-left: 4px;\n  color: var(--text-color-dark-40);\n`;\n\nexport default {\n  AccidentDateDesc,\n  AccidentTypeDesc,\n  ExampleViewer,\n  NormalText: StyledString,\n};\n","import { memo } from 'react';\nimport styled from 'styled-components';\n\nconst StyledHeader4 = styled.header`\n  align-items: center;\n  display: flex;\n  height: 24px;\n  justify-content: space-between;\n  /* margin-bottom: 8px; */\n\n  h4 {\n    color: var(--text-color-dark);\n    font-size: var(--title-4-font-size);\n    font-weight: var(--font-weight-semibold);\n  }\n`;\n\nexport default memo(({ title, children, ...props }: any) => (\n  <StyledHeader4 {...props}>\n    <h4>{title}</h4>\n    {children}\n  </StyledHeader4>\n));\n","import { memo, ReactElement, useMemo } from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as RequiredIcon } from '@/assets/svg/required.svg';\nimport { FormItemLabelNote } from '@/types/applyClaim';\n\nimport labelNote from './labelNotes';\nimport SectionHeader from './SectionHeader';\n\ninterface IProps {\n  label: string;\n  note?: FormItemLabelNote;\n  required?: boolean;\n  desc?: string;\n  accessWay?: string;\n}\n\nconst StyledRequiredIcon = styled(RequiredIcon)`\n  margin-left: 4px;\n`;\nconst StyledP = styled.p`\n  color: var(--text-color-dark-60);\n  font-size: var(--title-5-font-size);\n  font-weight: var(--font-weight-regular);\n  line-height: var(--title-5-line-height);\n  width: 100%;\n`;\n\nconst UploadLabel = memo(\n  ({\n    label,\n    desc,\n    accessWay,\n  }: {\n    label?: ReactElement;\n    desc?: string;\n    accessWay?: string;\n  }) => {\n    return (\n      <>\n        <SectionHeader title={label} />\n        <StyledP>{desc}</StyledP>\n        <StyledP>{accessWay}</StyledP>\n      </>\n    );\n  },\n);\nexport default memo(({ label, note, required, desc, accessWay }: IProps) => {\n  const Action = useMemo(() => {\n    if (note) {\n      const Ele = labelNote[note.type] || null;\n      return Ele ? (\n        <Ele title={note.title} {...note.props}>\n          {note.text}\n        </Ele>\n      ) : null;\n    }\n  }, [note]);\n  const _label = (\n    <>\n      <span>{label}</span>\n      {required ? <StyledRequiredIcon /> : null}\n      {Action}\n    </>\n  );\n  return desc ? (\n    <UploadLabel label={_label} desc={desc} accessWay={accessWay} />\n  ) : (\n    _label\n  );\n});\n","/** 带同步功能的 form 地址输入组件 */\nimport { Input } from '@elt_common/components';\nimport type {\n  InputProps,\n  InputRef,\n} from '@elt_common/components/dist/ui/input';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { forwardRef } from 'react';\nimport styled from 'styled-components';\n\nconst SyncAddressBtnWrap = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 120px;\n  height: 22px;\n  margin-top: 4px;\n  padding: 2px, 6px, 2px, 6px;\n  background-color: var(--paracelblue-20);\n  border-radius: 4px;\n  span {\n    color: var(--paracelblue-60);\n    font-weight: 500;\n    font-size: var(--desc-font-size);\n    line-height: var(--desc-line-height);\n    text-align: right;\n  }\n`;\n\ntype ExtraProps = {\n  /** 需要同步的表单字段 */\n  needSyncBtn?: boolean;\n  onSync?: () => void;\n};\nconst Wrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n`;\n\nexport default forwardRef<InputRef, InputProps & ExtraProps>(\n  (\n    { value = undefined, needSyncBtn = false, onChange, onSync, ...others },\n    forwardedRef,\n  ) => {\n    const handleChange = useRealtimeCallback((val) => {\n      onChange?.(val.trim());\n    });\n    return (\n      <Wrap>\n        <Input\n          onChange={handleChange}\n          value={value}\n          {...others}\n          ref={forwardedRef}\n        />\n        {needSyncBtn && !value ? (\n          <SyncAddressBtnWrap onClick={onSync}>\n            <span>一键使用出险人地址</span>\n          </SyncAddressBtnWrap>\n        ) : null}\n      </Wrap>\n    );\n  },\n);\n","import { Input, Toast } from '@elt_common/components';\nimport type {\n  InputProps,\n  InputRef,\n} from '@elt_common/components/dist/ui/input';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { forwardRef } from 'react';\n\nimport useBankHelper from '@/hooks/useBankHelper';\n\nexport default forwardRef<InputRef, InputProps & { value?: string; type?: '' }>(\n  // inputMode decimal: 小数输入键盘; numeric: 数字输入键盘\n  ({ value = undefined, onChange, ...others }, forwardedRef) => {\n    const { isCreditCard } = useBankHelper();\n    // 分割符号四位空格隔开\n    const _value = value\n      ? value.replace(/\\D/g, '').replace(/....(?!$)/g, '$& ')\n      : value;\n\n    const handleBlur = useRealtimeCallback((e) => {\n      const val = e.target.value;\n      if (val && isCreditCard(val)) {\n        Toast.show('请确认银行卡号（信用卡不可用于收款）');\n      }\n    });\n\n    const onChangeFormat = useRealtimeCallback((val) => {\n      onChange?.(val ? val.replace(/[^0-9]/gi, '') : val);\n    });\n\n    return (\n      <Input\n        value={_value}\n        {...others}\n        type=\"numeric\"\n        ref={forwardedRef}\n        onChange={onChangeFormat}\n        onBlur={handleBlur}\n      />\n    );\n  },\n);\n","import { Input } from '@elt_common/components';\nimport type {\n  InputProps,\n  InputRef,\n} from '@elt_common/components/dist/ui/input';\nimport { forwardRef } from 'react';\nimport styled from 'styled-components';\n\nconst Wrap = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport default forwardRef<InputRef, InputProps>(\n  // inputMode decimal: 小数输入键盘; numeric: 数字输入键盘\n  ({ value = undefined, ...others }, forwardedRef) => {\n    return (\n      <Wrap>\n        <Input value={value} {...others} type=\"number\" ref={forwardedRef} />\n      </Wrap>\n    );\n  },\n);\n","import { Input } from '@elt_common/components';\nimport type {\n  InputProps,\n  InputRef,\n} from '@elt_common/components/dist/ui/input';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { forwardRef } from 'react';\nimport styled from 'styled-components';\n\ntype ExtraProps = {\n  suffix?: string;\n  toFixed?: number;\n};\nconst Wrap = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\nconst Suffix = styled.div`\n  margin-left: 4px;\n  color: var(--text-color-dark);\n  font-size: var(--content-3-font-size);\n  line-height: var(--content-3-line-height);\n`;\n\nexport default forwardRef<InputRef, InputProps & ExtraProps>(\n  // inputMode decimal: 小数输入键盘; numeric: 数字输入键盘\n  (\n    { value = undefined, suffix, toFixed, onChange, ...others },\n    forwardedRef,\n  ) => {\n    const handleBlur = useRealtimeCallback((e) => {\n      const val = e.target.value;\n      if (val) {\n        if (!isNaN(Number(toFixed))) {\n          const fixedValue = Number(val)?.toFixed(toFixed);\n          onChange?.(fixedValue ?? '');\n        } else {\n          onChange?.(val ?? '');\n        }\n      }\n    });\n    const handleChange = useRealtimeCallback((val) => {\n      onChange?.(val);\n    });\n\n    return (\n      <Wrap>\n        <Input\n          value={value}\n          {...others}\n          type=\"number\"\n          ref={forwardedRef}\n          onBlur={handleBlur}\n          onChange={handleChange}\n        />\n        {suffix && value ? <Suffix>{suffix}</Suffix> : null}\n      </Wrap>\n    );\n  },\n);\n","import {\n  Border,\n  Button,\n  Form,\n  Layout,\n  ReportableInjected,\n} from '@elt_common/components';\nimport styled from 'styled-components';\n\nexport const Container = styled(ReportableInjected.Div.Visible)`\n  background: #fff;\n  &::after {\n    content: ' ';\n    display: block;\n    box-sizing: border-box;\n    margin: 0;\n    outline: none;\n    padding: 0;\n  }\n`;\nexport const Content = styled.div`\n  padding: 16px 16px calc(104px + env(safe-area-inset-bottom) + 10px);\n`;\nexport const FooterWrap = styled(Layout.Footer)`\n  z-index: 10;\n  background: var(--adm-color-white);\n`;\nexport const Footer = styled(Border.HalfPixelSideBorder).attrs({\n  side: 'top',\n})`\n  width: 100%;\n  height: 98px;\n  background: var(--adm-color-white);\n`;\nexport const Cancel = styled.div`\n  font-size: 12px;\n  padding: 8px 16px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  span {\n    color: var(--blue-60);\n  }\n`;\n\nexport const FooterButton = styled.div`\n  padding: 8px 16px;\n  display: flex;\n`;\n\nexport const SaveBtn = styled(Button)`\n  flex: 1;\n  height: 48px;\n  margin-right: 16px;\n  padding: unset !important;\n`;\nexport const NextBtn = styled(Button)`\n  height: 48px;\n  flex: 1;\n  padding: unset !important;\n`;\n\nexport const FormSection = styled.div`\n  margin-bottom: 32px;\n`;\nexport const ApplyInfoFormInputItem = styled(Form.Item)`\n  &.small-item-label {\n    .adm-form-item-label {\n      font-size: var(--content-3-font-size);\n    }\n  }\n  .adm-form-item-label {\n    font-size: var(--content-3-font-size);\n    display: inline-flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n  .adm-list-item-content-prefix {\n    display: flex;\n    align-items: center;\n  }\n  &.top-label {\n    .adm-list-item-content-prefix {\n      align-items: flex-start;\n    }\n  }\n  &.adm-form-item-has-error {\n    .adm-list-item-content-prefix {\n      align-items: flex-start;\n    }\n  }\n  .adm-form-item-feedback-error {\n    text-align: right;\n  }\n  input {\n    text-align: right;\n  }\n  .flex-selector {\n    .adm-space-horizontal {\n      display: flex;\n      justify-content: flex-end;\n    }\n  }\n  .adm-selector-item {\n    padding: 7px 12px;\n    height: 36px;\n    min-width: 88px;\n    font-size: var(--content-3-font-size);\n    line-height: var(--content-3-line-height);\n  }\n`;\n\nexport const StyledMaterialFormItem = styled(Form.Item)`\n  margin-bottom: 32px;\n  .adm-form-item-label {\n    height: auto;\n    display: inline-flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-wrap: wrap;\n    color: var(--text-color-dark);\n    font-size: var(--title-4-font-size);\n    font-weight: var(--font-weight-semibold);\n    line-height: var(--title-4-line-height);\n  }\n`;\n","/* eslint-disable max-lines-per-function */\nimport { Form, Input, Selector, Toast } from '@elt_common/components';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { forwardRef, memo, useEffect, useImperativeHandle } from 'react';\n\nimport DatePicker from '@/components/DatePicker';\nimport InsuredUserPick from '@/components/InsuredUserPick';\nimport MatchClaimProduct from '@/components/MatchClaimProduct';\nimport { PersonAge } from '@/const';\nimport useApplyInfoFormHelper from '@/hooks/useApplyInfoFormHelper';\nimport useBankHelper from '@/hooks/useBankHelper';\nimport useNewLoginUserInfo from '@/hooks/useNewLoginUserInfo';\nimport useVenusConfig from '@/hooks/useVenusConfig';\nimport { useApplyFormMemoryCacheStore } from '@/store/applyFormStore';\nimport { FieldValues } from '@/types';\nimport { FormRef } from '@/types/form';\nimport { IPolicyInfo, IPolicyListItem } from '@/types/policyInfo';\nimport { getLabelByValue } from '@/utils';\n\nimport ClaimAgencyInfo from './components/ClaimAgencyInfo';\nimport BankSelector from './components/form/BankSelector';\nimport BarListSelector from './components/form/BarListSelector';\nimport FormItemLabel from './components/form/FormItemLabel';\nimport InputAddress from './components/form/InputAddress';\nimport InputBank from './components/form/inputBank';\nimport InputMobile from './components/form/InputMobile';\nimport InputNumber from './components/form/InputNumber';\nimport SectionHeader from './components/form/SectionHeader';\nimport { ApplyInfoFormInputItem, FormSection } from './components/styled';\n\ntype FilterParameters = {\n  insuredCode?: string; // 出险人身份证号\n  accidentDate?: string; // 出险时间\n  accidentCode?: string; // 出险类型\n  accType?: string[]; // 就医方式\n};\ninterface CompositPolicyInfo {\n  policyInfo: IPolicyInfo;\n  filterPolicyInfo: IPolicyListItem[];\n  updatePolicyInfo: (filterParams: FilterParameters) => void;\n  specifyUserInsuredId: string;\n  getMatchPolicy: () => IPolicyListItem | null;\n}\ninterface IProps {\n  compositPolicyInfo: CompositPolicyInfo;\n  formValue?: FieldValues;\n  onFinish?: (fieldValues: FieldValues) => void;\n  onFinishFailed?: (errorMsg: any) => void;\n  sync?: (insuredIdNo: string) => void;\n  insuredUserChanged: (insuredIdNo: string) => void;\n}\n\nexport default memo(\n  forwardRef<FormRef, IProps>(\n    (\n      {\n        compositPolicyInfo,\n        onFinish,\n        onFinishFailed,\n        formValue,\n        sync,\n        insuredUserChanged,\n      },\n      forwardedRef,\n    ) => {\n      const [form] = Form.useForm();\n      const { config } = useVenusConfig();\n      const { getMatchedBank, isValidBankCardNumber } = useBankHelper();\n      const { userInfo } = useNewLoginUserInfo();\n      const [applyFormMemoryCache] = useApplyFormMemoryCacheStore();\n\n      const {\n        policyInfo: policyFilterInfo,\n        filterPolicyInfo,\n        updatePolicyInfo,\n        getMatchPolicy,\n      } = compositPolicyInfo;\n      const { formOptions } = policyFilterInfo;\n      const {\n        isMe,\n        insuredUserName,\n        insuredIdNo: insuredId,\n        /** 地址同步 */\n        // syncBtnVisible,\n        syncAddress,\n        /** 各个表单项是否可见 */\n        accTypeVisible,\n        claimAgencyInfoVisible,\n        claimAmountVisible,\n        insuranceInfoVisible,\n        antiMoneyLaundringVisible,\n        payeeInfoVisible,\n        matchedProductVisible,\n        /** 自定义事件 */\n      } = useApplyInfoFormHelper(\n        form,\n        policyFilterInfo.formOptions,\n        filterPolicyInfo,\n        getMatchPolicy,\n      );\n\n      const beforeInsuredUserChange = useRealtimeCallback(() => {\n        sync?.(form.getFieldValue('insuredIdNo'));\n      });\n      const insuredIdNoChanged = useRealtimeCallback((insuredIdNo: string) => {\n        insuredUserChanged(insuredIdNo);\n        filterPolicyByFormValue();\n      });\n      const onDisabledClick = (data: string) => {\n        if (filterPolicyInfo?.length < 1) {\n          Toast.show(`未找到匹配的保单`);\n        } else {\n          Toast.show(`当前出险信息不支持${data}理赔`);\n        }\n      };\n      const filterPolicyByFormValue = useRealtimeCallback(() => {\n        const insuredIdNo = form.getFieldValue('insuredIdNo');\n        const accidentDate = form.getFieldValue('accidentDate');\n        const accidentCode = form.getFieldValue('accidentCode')?.[0];\n        const accType = form.getFieldValue('accType');\n\n        updatePolicyInfo({\n          accidentDate,\n          accidentCode,\n          accType,\n          insuredCode: insuredIdNo,\n        });\n      });\n      /** 手机号前端校验 */\n      const TelReg = new RegExp(/^1[3-9]\\d{9}$/);\n      const mobileValidator = useRealtimeCallback(\n        (_: unknown, value: string) => {\n          const errMsg = '请输入正确的手机号码';\n\n          if (!value) {\n            return Promise.reject(new Error('请输入手机号'));\n          }\n          if (TelReg.test(String(value))) {\n            return Promise.resolve();\n          }\n          return Promise.reject(new Error(errMsg));\n        },\n      );\n      /** 就诊费用前端校验 */\n      const amountValidator = useRealtimeCallback(\n        (_: unknown, value: string) => {\n          if (!value || Number(value) < 0) {\n            return Promise.reject(new Error('请输入正确的金额'));\n          }\n          return Promise.resolve();\n        },\n      );\n      /** 银行卡号前端校验 */\n      const cardNumberValidator = useRealtimeCallback(\n        (_: unknown, value: string) => {\n          if (!isValidBankCardNumber(value)) {\n            return Promise.reject(new Error('请输入正确的银行卡号'));\n          }\n          return Promise.resolve();\n        },\n      );\n      /** 银行卡号切换自动匹配银行 */\n      const payeeAcctChanged = useRealtimeCallback((bankCardNumber: string) => {\n        const matchedBank = getMatchedBank(bankCardNumber);\n        form.setFieldValue('payeeBank', matchedBank?.bankCode ?? '');\n      });\n\n      useImperativeHandle(\n        forwardedRef,\n        () => ({\n          form,\n          claimAgencyInfoVisible,\n          getValue: form.getFieldValue,\n          getValues: () => {\n            const formData = form.getFieldsValue();\n            const cachedInfo = applyFormMemoryCache[formData.insuredIdNo] ?? {};\n            const policy = getMatchPolicy();\n            const additionalData = {\n              ...policy,\n              payeeBankName: getLabelByValue(\n                config.commonFormOption.bank,\n                formData?.payeeBank,\n              ),\n              applicantId: userInfo?.certiNo, // 申请人证件号\n              applicantIdType: userInfo?.certiType, // 申请人证件类型\n              applicantRelation: policy?.relation,\n            };\n            /** 投保人=被保人=申请人=出险人，出险人职业、常住地址不会出现在界面上让用户填，但是需要传给后端 */\n            const additionalAntiMoneyInfo = isMe\n              ? {\n                  insuredOccupation: form.getFieldValue('applicantOccupation'),\n                  insuredAddress: form.getFieldValue('applicantAddress'),\n                }\n              : {};\n            return {\n              ...cachedInfo.applyInfoForm,\n              ...additionalData,\n              ...formData,\n              ...additionalAntiMoneyInfo,\n            };\n          },\n          setValue: form.setFieldsValue,\n          submit: () => {\n            form.submit();\n          },\n        }),\n        [\n          form,\n          claimAgencyInfoVisible,\n          applyFormMemoryCache,\n          getMatchPolicy,\n          config.commonFormOption.bank,\n          userInfo?.certiNo,\n          userInfo?.certiType,\n          isMe,\n        ],\n      );\n      /**  根据出险人动态展示收款人 */\n      useEffect(() => {\n        const policy = getMatchPolicy();\n        if (insuredUserName && policy?.adult === PersonAge.adult) {\n          form.setFieldsValue({ payeeName: policy.insuredName });\n        }\n        if (insuredUserName && policy?.adult === PersonAge.child) {\n          form.setFieldsValue({ payeeName: policy.applicantName });\n        }\n      }, [form, getMatchPolicy, insuredUserName]);\n      /** 初始化申请人信息 */\n      useEffect(() => {\n        form.setFieldsValue({\n          applyPhone: userInfo?.phone,\n          applicantName: userInfo?.name ?? '',\n        });\n      }, [userInfo, form]);\n\n      return (\n        <>\n          <Form\n            form={form}\n            initialValues={formValue}\n            layout=\"horizontal\"\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n          >\n            {/* 出险信息 */}\n            <FormSection>\n              <SectionHeader title=\"出险信息\" />\n              {/* 出险人 */}\n              <ApplyInfoFormInputItem\n                name=\"insuredIdNo\"\n                className=\"insuredIdNo\"\n                bottomLine={!claimAgencyInfoVisible}\n                rules={[{ required: true, message: '此为必选项' }]}\n              >\n                <InsuredUserPick\n                  options={formOptions?.insuredName}\n                  placeholder=\"请选择出险人\"\n                  pickerTitle=\"选择出险人\"\n                  displayExpand\n                  beforeChange={beforeInsuredUserChange}\n                  onChange={insuredIdNoChanged}\n                />\n              </ApplyInfoFormInputItem>\n              {/* 代理赔授权委托书 */}\n              {claimAgencyInfoVisible ? (\n                <ApplyInfoFormInputItem\n                  name=\"insuredClaimEmpower\"\n                  className=\"insuredClaimEmpower\"\n                >\n                  <ClaimAgencyInfo\n                    insuredName={insuredUserName}\n                    insuredIdNo={insuredId}\n                  />\n                </ApplyInfoFormInputItem>\n              ) : null}\n              {/* 出险时间 */}\n              <ApplyInfoFormInputItem\n                label={\n                  <FormItemLabel\n                    label=\"出险时间\"\n                    note={{ type: 'AccidentDateDesc' }}\n                  />\n                }\n                name=\"accidentDate\"\n                className=\"accidentDate\"\n                rules={[{ required: true, message: '此为必选项' }]}\n              >\n                <DatePicker\n                  min={new Date(formOptions?.accidentDateMin)}\n                  max={new Date(formOptions?.accidentDateMax)}\n                  placeholder=\"选择日期\"\n                  pickerTitle=\"选择出险日期\"\n                  textAlign=\"right\"\n                  valueFormat=\"YYYY-MM-DD\"\n                  displayFormat=\"YYYY/MM/DD\"\n                  onChange={filterPolicyByFormValue}\n                />\n              </ApplyInfoFormInputItem>\n              {/* 出险类型 */}\n              <ApplyInfoFormInputItem\n                label={\n                  <FormItemLabel\n                    label=\"出险类型\"\n                    note={{ type: 'AccidentTypeDesc' }}\n                  />\n                }\n                name=\"accidentCode\"\n                className=\"accidentCode\"\n                rules={[{ required: true, message: '此为必选项' }]}\n              >\n                <Selector\n                  className=\"flex-selector\"\n                  disableEmpty={true}\n                  options={formOptions?.accidentCode}\n                  onDisabledClick={onDisabledClick}\n                  onChange={filterPolicyByFormValue}\n                />\n              </ApplyInfoFormInputItem>\n              {/* 就医方式 */}\n              {accTypeVisible ? (\n                <ApplyInfoFormInputItem\n                  className=\"accType small-item-label\"\n                  label={\n                    <FormItemLabel\n                      label=\"就医方式\"\n                      note={{ type: 'NormalText', text: '(可多选)' }}\n                    />\n                  }\n                  name=\"accType\"\n                  layout=\"vertical\"\n                  rules={[{ required: true, message: '此为必选项' }]}\n                >\n                  <BarListSelector\n                    options={formOptions?.accType}\n                    onChange={filterPolicyByFormValue}\n                  />\n                </ApplyInfoFormInputItem>\n              ) : null}\n              {/* 就诊费用 */}\n              {claimAmountVisible ? (\n                <ApplyInfoFormInputItem\n                  label=\"就诊费用\"\n                  name=\"clmAmount\"\n                  className=\"clmAmount\"\n                  // trigger=\"onBlur\"\n                  rules={[{ required: true, validator: amountValidator }]}\n                >\n                  <InputNumber\n                    placeholder=\"请填写就诊费用\"\n                    toFixed={2}\n                    suffix=\"元\"\n                  />\n                </ApplyInfoFormInputItem>\n              ) : null}\n              {/* 反洗钱 出险人 */}\n              {antiMoneyLaundringVisible && !isMe ? (\n                <>\n                  <ApplyInfoFormInputItem\n                    label=\"手机号\"\n                    name=\"insuredPhone\"\n                    className=\"insuredPhone\"\n                    validateTrigger=\"onBlur\"\n                    rules={[{ required: true, validator: mobileValidator }]}\n                  >\n                    <InputMobile placeholder=\"请输入出险人手机号\" />\n                  </ApplyInfoFormInputItem>\n                  <ApplyInfoFormInputItem\n                    label=\"职业\"\n                    name=\"insuredOccupation\"\n                    className=\"insuredOccupation\"\n                    rules={[{ required: true, message: '此为必选项' }]}\n                  >\n                    <Input placeholder=\"请输入出险人职业\" />\n                  </ApplyInfoFormInputItem>\n                  <ApplyInfoFormInputItem\n                    label=\"常住地址\"\n                    name=\"insuredAddress\"\n                    className=\"insuredAddress\"\n                    rules={[{ required: true, message: '此为必选项' }]}\n                  >\n                    <InputAddress placeholder=\"请输入出险人常住地址\" />\n                  </ApplyInfoFormInputItem>\n                </>\n              ) : null}\n            </FormSection>\n            {/* 投保信息 */}\n            {insuranceInfoVisible ? (\n              <FormSection>\n                <SectionHeader title=\"投保信息\" />\n                <ApplyInfoFormInputItem\n                  label=\"手机号\"\n                  name=\"applicantPhone\"\n                  className=\"applicantPhone\"\n                  validateTrigger=\"onBlur\"\n                  rules={[{ required: true, validator: mobileValidator }]}\n                >\n                  <InputMobile placeholder=\"请输入投保人手机号\" />\n                </ApplyInfoFormInputItem>\n              </FormSection>\n            ) : null}\n            {/* 申请信息 */}\n            <FormSection>\n              <SectionHeader title=\"申请信息\" />\n              <ApplyInfoFormInputItem\n                label=\"申请人\"\n                name=\"applicantName\"\n                className=\"applicantName\"\n              >\n                <Input readOnly disabled />\n              </ApplyInfoFormInputItem>\n              <ApplyInfoFormInputItem\n                label=\"手机号\"\n                name=\"applyPhone\"\n                className=\"applyPhone\"\n                validateTrigger=\"onBlur\"\n                rules={[{ required: true, validator: mobileValidator }]}\n              >\n                <InputMobile placeholder=\"请输入申请人手机号\" />\n              </ApplyInfoFormInputItem>\n              {antiMoneyLaundringVisible ? (\n                <>\n                  <ApplyInfoFormInputItem\n                    label=\"职业\"\n                    name=\"applicantOccupation\"\n                    className=\"applicantOccupation\"\n                    rules={[{ required: true, message: '此为必选项' }]}\n                  >\n                    <Input placeholder=\"请输入申请人职业\" />\n                  </ApplyInfoFormInputItem>\n                  <ApplyInfoFormInputItem\n                    label=\"常住地址\"\n                    name=\"applicantAddress\"\n                    className=\"applicantAddress top-label\"\n                    rules={[{ required: true, message: '此为必选项' }]}\n                  >\n                    <InputAddress\n                      placeholder=\"请输入申请人常住地址\"\n                      needSyncBtn={!isMe}\n                      onSync={syncAddress}\n                    />\n                  </ApplyInfoFormInputItem>\n                </>\n              ) : null}\n            </FormSection>\n            {/* 收款信息 */}\n            {payeeInfoVisible ? (\n              <FormSection>\n                <SectionHeader title=\"收款信息\" />\n                <ApplyInfoFormInputItem\n                  label=\"收款人\"\n                  name=\"payeeName\"\n                  className=\"payeeName\"\n                  rules={[{ required: true, message: '此为必填项' }]}\n                >\n                  <Input readOnly disabled />\n                </ApplyInfoFormInputItem>\n                <ApplyInfoFormInputItem\n                  label=\"银行卡号\"\n                  name=\"payeeAcct\"\n                  className=\"payeeAcct\"\n                  rules={[{ required: true, validator: cardNumberValidator }]}\n                >\n                  <InputBank\n                    onChange={payeeAcctChanged}\n                    placeholder=\"请输入银行卡号\"\n                  />\n                </ApplyInfoFormInputItem>\n                <ApplyInfoFormInputItem\n                  label=\"收款银行\"\n                  name=\"payeeBank\"\n                  className=\"payeeBank\"\n                  rules={[{ required: true, message: '此为必选项' }]}\n                >\n                  <BankSelector\n                    showSearch={true}\n                    drawerTitle=\"选择银行\"\n                    drawerHeight=\"65vh\"\n                    options={config.commonFormOption.bank}\n                  />\n                </ApplyInfoFormInputItem>\n              </FormSection>\n            ) : null}\n          </Form>\n          {matchedProductVisible ? (\n            <MatchClaimProduct\n              products={policyFilterInfo?.filteredPolicyList}\n              pageName=\"理赔申请信息填写页\"\n            />\n          ) : null}\n        </>\n      );\n    },\n  ),\n);\n","import { Form } from '@elt_common/components';\nimport { IRCFormInstance } from '@elt_common/components/dist/ui/form';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { intersection } from 'lodash-es';\nimport { useMemo } from 'react';\n\nimport { PersonAge } from '@/const';\nimport { IFormOptions, IPolicyListItem } from '@/types/policyInfo';\n\nimport useNewLoginUserInfo from './useNewLoginUserInfo';\nimport useVenusConfig from './useVenusConfig';\n\nexport default (\n  applyInfoForm: IRCFormInstance,\n  formOptions: IFormOptions,\n  filteredPolicyInfo: IPolicyListItem[],\n  getMatchPolicy: () => IPolicyListItem | null,\n) => {\n  const insuredIdNo = Form.useWatch('insuredIdNo', applyInfoForm);\n  const accidentDate = Form.useWatch('accidentDate', applyInfoForm);\n  const accidentCode = Form.useWatch('accidentCode', applyInfoForm);\n  const accType = Form.useWatch('accType', applyInfoForm);\n  const clmAmount = Form.useWatch('clmAmount', applyInfoForm);\n\n  const insuredUserName = useMemo(() => {\n    return (\n      formOptions.insuredName.find((item) => item.value === insuredIdNo)\n        ?.label ?? ''\n    );\n  }, [formOptions.insuredName, insuredIdNo]);\n\n  const { userInfo } = useNewLoginUserInfo();\n  const { config } = useVenusConfig();\n\n  /** 出险人是否本人 */\n  const isMe = useMemo(\n    () => userInfo?.certiNo === insuredIdNo,\n    [insuredIdNo, userInfo?.certiNo],\n  );\n  /** 就医方式是否可见 */\n  const accTypeVisible = useMemo(() => {\n    const policy = getMatchPolicy();\n    return insuredIdNo && accidentDate && accidentCode && policy;\n  }, [accidentCode, accidentDate, getMatchPolicy, insuredIdNo]);\n  /** 代 成年人 理赔 */\n  const claimAgencyInfoVisible = useMemo(() => {\n    const policy = filteredPolicyInfo[0];\n    return insuredIdNo && !isMe && policy?.adult === PersonAge.adult;\n  }, [filteredPolicyInfo, insuredIdNo, isMe]);\n  /** 就诊费用 */\n  const claimAmountVisible = useMemo(\n    () =>\n      intersection(\n        accType ?? [],\n        config.commonFormOption.notNeedClaimAmountAccType,\n      )?.length < 1,\n    [accType, config.commonFormOption.notNeedClaimAmountAccType],\n  );\n  /** 校验命中的保单是否有渠道保单，并且未给投保人手机号 */\n  const insuranceInfoVisible = useMemo(() => {\n    // TODO: 1、做成配置 2、与产品确认判断条件\n    // VGUZ5206 是蚂蚁渠道\n    return filteredPolicyInfo.some((policy) => policy.empno === 'VGUZ5206');\n  }, [filteredPolicyInfo]);\n  /** 反洗钱 */\n  const antiMoneyLaundringVisible = useMemo(() => {\n    if (\n      intersection(accType ?? [], config.commonFormOption.needAntiMoneyAccType)\n        ?.length\n    ) {\n      return true;\n    }\n    if (clmAmount && clmAmount >= 10000) {\n      return true;\n    }\n    return false;\n  }, [accType, clmAmount, config.commonFormOption.needAntiMoneyAccType]);\n  /** 收款信息 */\n  const payeeInfoVisible = useMemo(() => Boolean(insuredIdNo), [insuredIdNo]);\n  /** 匹配到的保单是否可见 */\n  const matchedProductVisible = useMemo(() => {\n    return Boolean(insuredIdNo && accidentDate && accidentCode);\n  }, [accidentCode, accidentDate, insuredIdNo]);\n\n  const syncAddress = useRealtimeCallback(() => {\n    const insuredAddress = applyInfoForm.getFieldValue('insuredAddress');\n    if (insuredAddress) {\n      applyInfoForm.setFieldValue('applicantAddress', insuredAddress);\n      applyInfoForm.validateFields(['applicantAddress']);\n    }\n  });\n\n  return {\n    syncAddress,\n    isMe,\n    insuredIdNo,\n    insuredUserName,\n    accTypeVisible,\n    claimAgencyInfoVisible,\n    claimAmountVisible,\n    insuranceInfoVisible,\n    antiMoneyLaundringVisible,\n    payeeInfoVisible,\n    matchedProductVisible,\n  };\n};\n","import { memo } from 'react';\n\nimport {\n  Cancel,\n  Footer,\n  FooterButton,\n  FooterWrap,\n  NextBtn,\n  SaveBtn,\n} from './styled';\n\ninterface IProps {\n  nextLoading: boolean;\n  tmpSaveBtnLoading: boolean;\n  tmpSaveBtnDisabled: boolean;\n  nextBtnDisabled: boolean;\n  btnWrapClassName?: string;\n  nextBtnClick: () => void;\n  tmpSaveBtnClick: () => void;\n  cancelApplyBtnClick: () => void;\n}\nexport default memo(\n  ({\n    nextLoading,\n    tmpSaveBtnLoading,\n    tmpSaveBtnDisabled,\n    nextBtnDisabled,\n    nextBtnClick,\n    tmpSaveBtnClick,\n    cancelApplyBtnClick,\n    btnWrapClassName,\n  }: IProps) => {\n    return (\n      <FooterWrap>\n        <Footer>\n          <Cancel>\n            如您不想继续当前申请，可点击\n            <span onClick={cancelApplyBtnClick}>取消理赔</span>\n          </Cancel>\n          <FooterButton className={btnWrapClassName}>\n            <SaveBtn\n              loading={tmpSaveBtnLoading}\n              disabled={tmpSaveBtnDisabled}\n              fill=\"outline\"\n              onClick={tmpSaveBtnClick}\n            >\n              暂存\n            </SaveBtn>\n            <NextBtn\n              disabled={nextBtnDisabled}\n              loading={nextLoading}\n              loadingText=\"保存中\"\n              onClick={nextBtnClick}\n            >\n              下一步\n            </NextBtn>\n          </FooterButton>\n        </Footer>\n      </FooterWrap>\n    );\n  },\n);\n","import { memo } from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as ImportantSvg } from '@/assets/svg/important.svg';\n\nconst HeaderWarning = styled.div`\n  position: sticky;\n  top: 0;\n  display: flex;\n  width: 100%;\n  padding: 8px 16px;\n  background: var(--red-20);\n  z-index: 10;\n`;\nconst StyledImportantSvg = styled.div`\n  width: 29px;\n  height: 18px;\n  margin-top: 4px;\n`;\nconst WarningText = styled.div`\n  margin-left: 8px;\n  line-height: 24px;\n  color: var(--text-color-dark-100);\n  font-weight: var(--font-weight-semibold);\n  font-size: var(--content-2-font-size);\n`;\n\nexport default memo(() => {\n  return (\n    <HeaderWarning>\n      <StyledImportantSvg>\n        <ImportantSvg />\n      </StyledImportantSvg>\n      <WarningText>请确保理赔信息真实有效</WarningText>\n    </HeaderWarning>\n  );\n});\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgFinish(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.5118 5.10245C14.0724 4.66311 13.3601 4.66311 12.9208 5.10245L8.1478 9.87542L5.76132 7.48894C5.32198 7.0496 4.60967 7.0496 4.17033 7.48894C3.73099 7.92828 3.73099 8.64059 4.17033 9.07993L7.35231 12.2619C7.79165 12.7013 8.50396 12.7013 8.9433 12.2619L14.5118 6.69344C14.9511 6.2541 14.9511 5.54179 14.5118 5.10245Z\",\n    fill: \"white\",\n    style: {\n      fill: \"white\",\n      fill: \"white\",\n      fillOpacity: 1\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFinish);\nexport default __webpack_public_path__ + \"static/media/finish.48f39081.svg\";\nexport { ForwardRef as ReactComponent };","import { useRealtimeCallback } from '@elt_common/hooks';\nimport { Fragment, memo, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as FinishSvg } from '@/assets/svg/finish.svg';\nimport { Step } from '@/const';\n\nconst Steps = styled.div`\n  padding: 8px 75px 12px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-color: var(--navyblue-10);\n`;\n\nconst StepBtn = styled.div`\n  display: inline-flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: var(--content-3-font-size);\n  line-height: var(--content-3-line-height);\n  font-weight: var(--font-weight-semibold);\n  .step-circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 24px;\n    height: 24px;\n    text-align: center;\n    border-radius: 50%;\n    border-width: 4px;\n    border-style: solid;\n    .step-sequence {\n      height: 22px;\n      color: #fff;\n      line-height: 22px;\n    }\n  }\n  .step-name {\n    color: var(--text-color-dark);\n  }\n  &.active {\n    .step-circle {\n      background-color: var(--navyblue-90);\n      border-color: var(--navyblue-40);\n      box-sizing: content-box;\n    }\n  }\n  &.finished {\n    .step-circle {\n      background-color: var(--paracelblue-60);\n      border-color: var(--paracelblue-30);\n      box-sizing: content-box;\n    }\n    .step-name {\n      color: var(--paracelblue-60);\n    }\n  }\n  &.deactive {\n    .step-circle {\n      margin: 4px 0;\n      background-color: var(--navyblue-40);\n      border: none;\n    }\n    .step-name {\n      color: var(--text-color-dark-40);\n    }\n  }\n`;\n\nconst Line = styled.div`\n  margin: -20px -5px 0;\n  height: 1px;\n  flex-grow: 1;\n  padding: 0 4px;\n  box-sizing: border-box;\n  border-top: 2px solid var(--navyblue-30);\n  &.active {\n    border-top: 2px solid var(--navyblue-30);\n  }\n  &.finished {\n    border-top: 2px solid var(--paracelblue-60);\n  }\n  &.deactive {\n    border-top: 2px solid var(--navyblue-30);\n  }\n`;\n\ninterface IProps {\n  currentStep: Step;\n  stepClicked: (step: Step) => void;\n}\n\nenum StepStatus {\n  active = 'active',\n  finished = 'finished',\n  deactive = 'deactive',\n}\nexport default memo(({ currentStep, stepClicked }: IProps) => {\n  const [stepList] = useState([\n    { stepName: '填写信息', stepSequence: Step.one },\n    { stepName: '上传材料', stepSequence: Step.two },\n  ]);\n\n  const isLastStep = useRealtimeCallback((index: number) => {\n    return stepList.length === 0 || index === stepList.length - 1;\n  });\n  const isStepFinished = useRealtimeCallback((stepSequence: number) => {\n    return Number(currentStep) > stepSequence;\n  });\n  const calcStepStatus = useRealtimeCallback((stepSequence: number) => {\n    if (Number(currentStep) === stepSequence) {\n      return StepStatus.active;\n    } else if (Number(currentStep) > stepSequence) {\n      return StepStatus.finished;\n    } else if (Number(currentStep) < stepSequence) {\n      return StepStatus.deactive;\n    }\n    return StepStatus.deactive;\n  });\n\n  return (\n    <Steps>\n      {stepList.map((stepData, index) => (\n        <Fragment key={stepData.stepName}>\n          <StepBtn\n            className={calcStepStatus(stepData.stepSequence)}\n            onClick={() => stepClicked(stepData.stepSequence)}\n          >\n            <div className=\"step-circle\">\n              {isStepFinished(stepData.stepSequence) ? (\n                <FinishSvg />\n              ) : (\n                <div className=\"step-sequence\">{stepData.stepSequence}</div>\n              )}\n            </div>\n            <div className=\"step-name\">{stepData.stepName}</div>\n          </StepBtn>\n          {isLastStep(index) ? null : (\n            <Line className={calcStepStatus(stepData.stepSequence)} />\n          )}\n        </Fragment>\n      ))}\n    </Steps>\n  );\n});\n","import { Sentry, UA } from '@elt_common/common';\nimport {\n  IDCardImageUploader2,\n  IDCardUploaderProps,\n  ImageUploader,\n  PhotoType,\n  Toast,\n} from '@elt_common/components';\nimport { ImageUploaderProps } from '@elt_common/components/dist/business/image-uploader';\nimport { FC, forwardRef, memo } from 'react';\n\nimport { uploadImgs } from '@/apis/apply';\n\nconst isIos = UA.isIos();\n\ntype BusinessProps = {\n  insuredIdNo: string;\n};\nconst MyImgUploader: FC<ImageUploaderProps & BusinessProps> = memo(\n  forwardRef(({ onChange, insuredIdNo, value, multiple, ...others }) => {\n    return (\n      <ImageUploader\n        value={value}\n        accept=\"image/jpeg,image/png,image/jpg\"\n        beforeUpload={(file: File) => {\n          if (file.size > 1024 * 1024 * 20) {\n            Toast.show('图片超过20M，请重新上传');\n            return null;\n          }\n          const nameArr = file.name.split('.');\n          if (['jpg', 'jpeg', 'png'].includes(nameArr[nameArr.length - 1])) {\n            return file;\n          }\n          Toast.show('只能上传jpg、jpeg、png格式');\n          return null;\n        }}\n        onChange={onChange}\n        {...others}\n        // 暂时安卓手机限制批量上传材料\n        multiple={isIos ? multiple : false}\n        upload={async (file: File) => {\n          try {\n            const { data } = await uploadImgs({ file, insuredIdNo });\n            // if (props.onUploaded) {\n            //   props.onUploaded(photoType, data);\n            // }\n            Toast.show('上传成功');\n            const result = {\n              key: data,\n              url: URL.createObjectURL(file),\n              file,\n            };\n            // onChange?.((value ?? []).concat([result]));\n            return result;\n          } catch (error: any) {\n            Sentry.reportError('申请理赔页：图片上传接口异常', { error });\n            Toast.show('上传失败');\n            throw new Error(error.msg);\n          }\n        }}\n      />\n    );\n  }),\n);\n\nconst MyIDCardImgUploader: FC<IDCardUploaderProps & BusinessProps> = memo(\n  forwardRef(({ onChange, insuredIdNo, value, ...others }) => {\n    return (\n      <IDCardImageUploader2\n        value={value}\n        beforeUpload={(file: File, _: PhotoType) => {\n          if (file.size > 1024 * 1024 * 20) {\n            Toast.show('图片超过20M，请重新上传');\n            return null;\n          }\n          const nameArr = file.name.split('.');\n          if (['jpg', 'jpeg', 'png'].includes(nameArr[nameArr.length - 1])) {\n            return file;\n          }\n          Toast.show('只能上传jpg、jpeg、png格式');\n          return null;\n        }}\n        {...others}\n        onChange={onChange}\n        upload={async (file: File, _: PhotoType) => {\n          try {\n            const { data } = await uploadImgs({ file, insuredIdNo });\n            Toast.show('上传成功');\n            const result = {\n              key: data,\n              url: data,\n              file,\n            };\n            return result;\n          } catch (error: any) {\n            Sentry.reportError('申请理赔页：图片上传接口异常', { error });\n            Toast.show('上传失败');\n            throw new Error(error.msg);\n          }\n        }}\n      />\n    );\n  }),\n);\n\nexport const ImageUploaderMap: Record<string, FC<any>> = {\n  ImgUploader: MyImgUploader,\n  IDCardImgUploader: MyIDCardImgUploader,\n};\n","import { Form } from '@elt_common/components';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { forwardRef, memo, useImperativeHandle, useMemo } from 'react';\n\nimport useNewLoginUserInfo from '@/hooks/useNewLoginUserInfo';\nimport useVenusConfig from '@/hooks/useVenusConfig';\nimport { FieldValues } from '@/types';\nimport { FormItemLabelNote } from '@/types/applyClaim';\nimport { FormRef } from '@/types/form';\nimport { IPolicyInfo } from '@/types/policyInfo';\nimport { MaterialMeta, MaterialShowCondition } from '@/types/venusConfig';\n\nimport FormItemLabel from './components/form/FormItemLabel';\nimport { ImageUploaderMap } from './components/form/ImageUploader';\nimport { StyledMaterialFormItem } from './components/styled';\n\ninterface IProps {\n  // values?: FieldValues;\n  policyFilterInfo: IPolicyInfo;\n  onFinish?: (fieldValues: FieldValues) => void;\n  onFinishFailed?: (errorMsg: any) => void;\n  materials: MaterialMeta[];\n  insuredIdNo: string;\n}\n\nexport default memo(\n  forwardRef<FormRef, IProps>(\n    ({ onFinish, onFinishFailed, materials, insuredIdNo }, forwardedRef) => {\n      const { userInfo } = useNewLoginUserInfo();\n      const { config } = useVenusConfig();\n\n      /** 所有的材料上传组件配置 */\n      const materialWidgetList: Record<string, any> =\n        config.commonFormOption.material;\n      const getShow = useRealtimeCallback(\n        (showCondition: MaterialShowCondition) => {\n          switch (showCondition) {\n            case 'currentUserNotEqualToInsured': {\n              return userInfo?.certiNo !== insuredIdNo;\n            }\n            default:\n              return true;\n          }\n        },\n      );\n      const materialForRender = useMemo(() => {\n        if (materials) {\n          return materials.filter((material) => getShow(material.show));\n        }\n        return [];\n      }, [getShow, materials]);\n\n      const [form] = Form.useForm();\n      useImperativeHandle(\n        forwardedRef,\n        () => ({\n          form,\n          getValue: form.getFieldValue,\n          getValues: form.getFieldsValue,\n          setValue: form.setFieldsValue,\n          submit: () => {\n            form.submit();\n          },\n        }),\n        [form],\n      );\n\n      const genMaterialValidator = useRealtimeCallback(\n        ({ min = 1, required }: { min?: number; required: boolean }) => {\n          const materialValidator = (_: unknown, value: string[]) => {\n            if (!required) {\n              return Promise.resolve();\n            }\n            if (!value || value.filter((v) => Boolean(v)).length < min) {\n              return Promise.reject(new Error(`请上传至少${min}张材料`));\n            }\n            return Promise.resolve();\n          };\n          return materialValidator;\n        },\n      );\n\n      return (\n        <Form form={form} onFinish={onFinish} onFinishFailed={onFinishFailed}>\n          {materialForRender.map((material, index) => {\n            const materialWidget = materialWidgetList[material.materialCode];\n            const Widget = ImageUploaderMap[materialWidget.widget];\n            return getShow(material.show) ? (\n              <StyledMaterialFormItem\n                className={material.materialCode}\n                name={materialWidget.name}\n                bottomLine={false}\n                label={\n                  <FormItemLabel\n                    label={`${index + 1}. ${materialWidget.label}`}\n                    required={material.required}\n                    note={materialWidget.note as FormItemLabelNote}\n                    desc={materialWidget.description}\n                    accessWay={materialWidget.accessWay}\n                  />\n                }\n                key={materialWidget.name}\n                rules={[\n                  {\n                    validator: genMaterialValidator({\n                      required: material.required,\n                      min: material.min,\n                    }),\n                  },\n                ]}\n              >\n                <Widget insuredIdNo={insuredIdNo} {...materialWidget.props} />\n              </StyledMaterialFormItem>\n            ) : null;\n          })}\n        </Form>\n      );\n    },\n  ),\n);\n","/* eslint-disable max-lines-per-function */\nimport { devClassName, parseQuery, Sentry } from '@elt_common/common';\nimport { Form, Loading, Modal, Toast } from '@elt_common/components';\nimport { useRealtimeCallback } from '@elt_common/hooks';\nimport { cloneDeep, groupBy, intersection, map, sortBy, uniq } from 'lodash-es';\nimport {\n  memo,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { cancelApply, getBatchCache } from '@/apis/apply';\nimport { FromOperation, OCR_CHECK_FAIL, Step } from '@/const';\nimport useMedicalInsuranceAuthHelper from '@/hooks/useMedicalInsuranceAuthHelper';\nimport usePolicyListInfo from '@/hooks/usePolicyInfo';\nimport useVenusConfig from '@/hooks/useVenusConfig';\nimport {\n  checkCanApply,\n  formatAPICacheToMemoryCache,\n} from '@/services/applyClaim';\nimport { tmpSave } from '@/services/applyInfoCacheHelper';\nimport ApplyTrackHelper from '@/services/applyTrackHelper';\nimport { useApplyFormMemoryCacheStore } from '@/store/applyFormStore';\nimport { useClaimSourceStore } from '@/store/claimSourceStore';\nimport { useWebHistoryState } from '@/store/webHistoryStore';\nimport { FieldValues } from '@/types';\nimport { IApplyInfoForm, IMaterialForm } from '@/types/applyClaim';\nimport { FormRef } from '@/types/form';\nimport { MaterialMeta } from '@/types/venusConfig';\nimport {\n  getLabelByValue,\n  getValuedProp,\n  scrollIntoViewWithOffset,\n} from '@/utils';\n\nimport ApplyInfoForm from './ApplyInfoForm';\nimport ApplyFooter from './components/ApplyFooter';\nimport HeaderWarning from './components/HeaderWarning';\nimport Steps from './components/Steps';\nimport { Container, Content } from './components/styled';\nimport MaterialForm from './MaterialForm';\n\n// OCR popup\nconst MaterialTip = styled.div`\n  text-align: left;\n`;\nconst MaterialList = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n  margin-top: 8px;\n  font-weight: 600;\n  color: var(--text-color-80);\n`;\nconst LeftAlignText = styled.div`\n  text-align: left;\n`;\n/** 请保持 key 的顺序和页面渲染的一致，用于自动滚动第一个错误表单 */\nconst initApplyInfoFormValue = {\n  insuredIdNo: undefined,\n  insuredClaimEmpower: undefined,\n  accidentDate: undefined,\n  accidentCode: undefined,\n  accType: undefined,\n  clmAmount: undefined,\n  insuredPhone: undefined,\n  insuredOccupation: undefined,\n  insuredAddress: undefined,\n  applicantPhone: undefined,\n  applicantName: undefined,\n  applyPhone: undefined,\n  applicantOccupation: undefined,\n  applicantAddress: undefined,\n  payeeName: undefined,\n  payeeAcct: undefined,\n  payeeBank: undefined,\n};\nexport default memo(() => {\n  /** policyNo:保单号 */\n  const { policyNo, classCode } = parseQuery();\n  const history = useHistory();\n\n  const [webHistoryState, setWebHistoryState] = useWebHistoryState();\n  const { dealMedicalInsuranceAuthorization, gettingMedicalToken } =\n    useMedicalInsuranceAuthHelper();\n  /** hack 标记是否要pushstate */\n  const [needPushState, setNeedPushState] = useState(true);\n  /** 用来标记是否点击了浏览器返回 */\n  const [isNavigatorBack, setIsNavigatorBack] = useState(true);\n  /** 标记页面是否需要初始化，有些情况回直接跳出该页面 */\n  const [needInit, setNeedInit] = useState(false);\n\n  const { config, materialUploadKeys } = useVenusConfig();\n  const { claimSource } = useClaimSourceStore();\n\n  const [applyFormMemoryCache, setApplyFormMemoryCache] =\n    useApplyFormMemoryCacheStore();\n\n  /** 保单筛选逻辑hook */\n  const compositPolicyInfo = usePolicyListInfo(policyNo, classCode);\n  const {\n    policyInfo: policyFilterInfo,\n    filterPolicyInfo: filterdPolicyList,\n    allPolicyList,\n    policyInfoLoaded,\n    specifyUserInsuredId,\n    getMatchPolicy,\n  } = compositPolicyInfo;\n\n  /** 下一步按钮是否可用 */\n  const nextBtnDisabled = useMemo(() => {\n    const policy = getMatchPolicy();\n    return filterdPolicyList.length < 1 || !policy;\n  }, [filterdPolicyList, getMatchPolicy]);\n\n  const form1Ref = useRef<FormRef>(null);\n  const form2Ref = useRef<FormRef>(null);\n  // const [form1Value, setForm1Value] = useState<FieldValues>();\n  const [specInsured, setSpecInsured] = useState('');\n\n  const accType: string[] = Form.useWatch('accType', form1Ref.current?.form);\n  const insuredIdNo = Form.useWatch('insuredIdNo', form1Ref.current?.form);\n  /** step 相关状态  */\n  const [currentStep, setCurrentStep] = useState(Step.one);\n  const [nextLoading, setNextLoading] = useState(false);\n  const [tmpSaveBtnLoading, setTmpSaveBtnLoading] = useState(false);\n  /** 缓存数据、保单数据(如果有保单号)、报案数据(如果有报案号) 是否加载完成 */\n  const [cacheLoaded, setCacheLoaded] = useState(false);\n  const loaded = useMemo(\n    () => cacheLoaded && policyInfoLoaded,\n    [policyInfoLoaded, cacheLoaded],\n  );\n\n  // TODO: 下面这坨逻辑可以整合一下，放到helper里面\n  const materialForForm2 = useMemo(() => {\n    /** 所有就医方式对应的材料列表 */\n    const accTypeMaterialMap = config.commonFormOption.accTypeMaterialMap;\n    /** 当前选中的就医方式对应的所有材料列表，会有重复的材料 */\n    const tmpMaterailList = accType?.reduce((acc, cur) => {\n      return acc.concat(accTypeMaterialMap[cur]?.materials || []);\n    }, [] as MaterialMeta[]);\n    /** 去重 */\n    const groupedMaterialList = groupBy(tmpMaterailList, 'materialCode');\n    /** 重复材料是否必填 */\n    const result = Object.keys(groupedMaterialList).map((materialCode) => {\n      const required = groupedMaterialList[materialCode].some(\n        (material) => material.required,\n      );\n      return { ...groupedMaterialList[materialCode][0], required };\n    });\n    return sortBy(result, (a) => !a.required);\n  }, [accType, config.commonFormOption.accTypeMaterialMap]);\n\n  /** 下一步 */\n  const nextBtnClick = useRealtimeCallback(() => {\n    if (currentStep === Step.one) {\n      form1Ref.current?.submit();\n    } else if (currentStep === Step.two) {\n      form2Ref.current?.submit();\n    }\n  });\n\n  const onFinish1 = useRealtimeCallback(async () => {\n    ApplyTrackHelper.trackClmProductInfoTabView(\n      filterdPolicyList.length,\n      '下一步',\n      getMatchPolicy(),\n    );\n    setNextLoading(true);\n    /** 第一步 点击下一步 重复性校验 等待期校验 */\n    if (await checkCanApply(form1Ref, getMatchPolicy(), currentStep)) {\n      try {\n        await tmpSave(\n          form1Ref,\n          form2Ref,\n          filterdPolicyList,\n          currentStep,\n          FromOperation.Next,\n          claimSource,\n        );\n        setCurrentStep(Step.two);\n        if (needPushState) {\n          window.history.pushState(null, '');\n        }\n      } catch (error: any) {\n        Sentry.reportError('申请理赔页：更新缓存接口异常', { error });\n        Toast.show(error.msg ?? '暂存失败');\n      } finally {\n        setNextLoading(false);\n      }\n    } else {\n      setNextLoading(false);\n    }\n  });\n\n  // 把ocr modal相关的操作方法先拿出来\n  let ocrPopupCloseFlag = 'cancel';\n  const onOcrPopupCancel = useRealtimeCallback(() => {\n    ocrPopupCloseFlag = 'actionCancel';\n    ApplyTrackHelper.trackClmOCRPopupClick('仍要提交');\n    dealMedicalInsuranceAuthorization(getMatchPolicy());\n  });\n  const onOcrPopupClose = useRealtimeCallback(() => {\n    if (ocrPopupCloseFlag === 'cancel') {\n      ApplyTrackHelper.trackClmOCRPopupClick('取消');\n    }\n  });\n  const onOcrPopupConfirm = useRealtimeCallback((type: string[]) => {\n    ocrPopupCloseFlag = 'actionConfirm';\n    ApplyTrackHelper.trackClmOCRPopupClick('补充材料');\n    const classNames = map(materialForForm2, 'materialCode');\n    const targetClassName = intersection(classNames, type)[0] ?? '';\n    scrollIntoViewWithOffset(targetClassName, 40);\n  });\n\n  const onFinish2 = useRealtimeCallback(async () => {\n    ApplyTrackHelper.trackUploadProfileTabView(\n      '下一步',\n      getMatchPolicy(),\n      materialForForm2,\n    );\n\n    setNextLoading(true);\n    const materials = form2Ref.current?.form?.getFieldsValue() as FieldValues;\n    // 埋点上报数据\n    const tmp: { profileType: string; picNumber: number }[] = [];\n    Object.keys(materials).forEach((key) => {\n      if (materials[key]?.length) {\n        tmp.push({\n          profileType: getLabelByValue(materialUploadKeys, key),\n          picNumber: materials[key].length,\n        });\n      }\n    });\n    ApplyTrackHelper.trackClmUploadPicNumber(tmp);\n    const matchedPolicy = getMatchPolicy();\n    if (await checkCanApply(form1Ref, matchedPolicy, currentStep)) {\n      try {\n        await tmpSave(\n          form1Ref,\n          form2Ref,\n          filterdPolicyList,\n          currentStep,\n          FromOperation.Next,\n          claimSource,\n        );\n        await dealMedicalInsuranceAuthorization(matchedPolicy);\n      } catch (error: any) {\n        // OCR 不过\n        if (error.code === OCR_CHECK_FAIL) {\n          Sentry.reportMessage('申请理赔页：OCR校验失败', { error });\n          let tipInfos: string[] = [];\n          let type: string[] = [];\n          try {\n            const errorInfo = JSON.parse(error.msg);\n            tipInfos = errorInfo?.map((item: { ['msg']: string }) => item?.msg);\n            type = errorInfo?.map((item: { ['type']: string }) => item?.type);\n          } catch (e) {\n            console.error(e);\n          }\n          ApplyTrackHelper.trackClmOCRPopupView(tipInfos);\n          Modal.confirm({\n            title: '必传材料缺失',\n            showCloseButton: true,\n            confirmText: '补充材料',\n            onConfirm: () => onOcrPopupConfirm(type),\n            cancelText: '仍要提交',\n            onCancel: onOcrPopupCancel,\n            onClose: onOcrPopupClose,\n            content: (\n              <>\n                <MaterialTip>\n                  经系统智能判断，本次理赔资料缺失，资料不全可能导致您的理赔暂停，请补充以下材料：\n                </MaterialTip>\n                <MaterialList>\n                  {tipInfos?.length\n                    ? tipInfos.map((tipInfo: string, index: number) => {\n                        return (\n                          <span key={tipInfo + index}>{`·${tipInfo}`}</span>\n                        );\n                      })\n                    : null}\n                </MaterialList>\n              </>\n            ),\n          });\n        } else {\n          Sentry.reportError('申请理赔页：更新缓存接口异常', { error });\n          Toast.show(error.msg || '暂存失败');\n        }\n      } finally {\n        setNextLoading(false);\n      }\n    } else {\n      setNextLoading(false);\n    }\n  });\n  const onFinishFailed1 = useRealtimeCallback((errorMsg: any) => {\n    /** 找到第一个报错的Form.Item */\n    const firstErrorFieldName =\n      Object.keys(initApplyInfoFormValue).find((f) =>\n        errorMsg?.errorFields?.some((ef: any) => ef.name.includes(f)),\n      ) ?? errorMsg?.errorFields[0].name[0];\n    if (firstErrorFieldName) {\n      // 40为顶部信息高度， 74为步骤条部分高度\n      scrollIntoViewWithOffset(firstErrorFieldName, 40 + 74);\n    }\n  });\n  const onFinishFailed2 = useRealtimeCallback((errorMsg: any) => {\n    const firstErrorField = errorMsg?.errorFields[0];\n    if (firstErrorField) {\n      const name = firstErrorField.name[0];\n      scrollIntoViewWithOffset(name, 40);\n    }\n  });\n  /** 暂存 */\n  const saveToAPICache = useRealtimeCallback(async () => {\n    setTmpSaveBtnLoading(true);\n    if (currentStep === Step.one) {\n      ApplyTrackHelper.trackClmProductInfoTabView(\n        filterdPolicyList.length,\n        '暂存',\n        getMatchPolicy(),\n      );\n    }\n    if (currentStep === Step.two) {\n      ApplyTrackHelper.trackUploadProfileTabView(\n        '下一步',\n        getMatchPolicy(),\n        materialForForm2,\n      );\n    }\n    try {\n      await tmpSave(\n        form1Ref,\n        form2Ref,\n        filterdPolicyList,\n        currentStep,\n        FromOperation.Save,\n        claimSource,\n      );\n      Toast.show('暂存成功');\n    } catch (error: any) {\n      Sentry.reportError('申请理赔页：暂存时，更新缓存接口异常', { error });\n      Toast.show(error.msg ?? '暂存失败');\n    } finally {\n      setTmpSaveBtnLoading(false);\n    }\n  });\n  const stepClicked = useRealtimeCallback((step: Step) => {\n    if (currentStep === Step.two) {\n      ApplyTrackHelper.trackClmProgressBarClick();\n      setCurrentStep(step);\n      setNeedPushState(false);\n    }\n  });\n  /** 处理取消理赔后的页面跳转 */\n  const afterCancelApply = useRealtimeCallback(() => {\n    setIsNavigatorBack(false);\n    setTimeout(() => {\n      history.goBack();\n    }, 0);\n  });\n  /** 取消理赔 */\n  const handleCancelApply = useRealtimeCallback(() => {\n    if (currentStep === Step.one) {\n      ApplyTrackHelper.trackClmProductInfoTabView(\n        filterdPolicyList.length,\n        '取消理赔',\n        getMatchPolicy(),\n      );\n    }\n    if (currentStep === Step.two) {\n      ApplyTrackHelper.trackUploadProfileTabView(\n        '取消理赔',\n        getMatchPolicy(),\n        materialForForm2,\n      );\n    }\n    /** 用来标记是否点击了弹窗的关闭按钮 */\n    let modalCloseIconClicked = true;\n    Modal.confirm({\n      title: '取消本次理赔申请',\n      content: '取消后将不会保留您本次填写的理赔信息，之后仍可随时发起理赔',\n      confirmText: '取消理赔',\n      cancelText: '再想想',\n      afterShow: () => {\n        ApplyTrackHelper.trackClmCancelPopupView(currentStep);\n      },\n      onClose: () => {\n        if (modalCloseIconClicked) {\n          ApplyTrackHelper.trackClmCancelPopupClick(currentStep, '取消');\n        }\n      },\n      onConfirm: async () => {\n        ApplyTrackHelper.trackClmCancelPopupClick(currentStep, '取消理赔');\n        modalCloseIconClicked = false;\n        const insuredId = form1Ref.current?.getValue('insuredIdNo') ?? '';\n        if (insuredId) {\n          try {\n            await cancelApply(insuredId);\n            // 清空浏览器内存中缓存的信息\n            setApplyFormMemoryCache({});\n          } catch (error) {\n            Sentry.reportError('申请理赔页：删除缓存接口异常', { error });\n            Toast.show('删除缓存失败');\n          }\n        }\n        afterCancelApply();\n      },\n      onCancel: () => {\n        ApplyTrackHelper.trackClmCancelPopupClick(currentStep, '再想想');\n        modalCloseIconClicked = false;\n      },\n    });\n  });\n  /** 切换出险人 先保存当前表单信息到浏览器内存中 */\n  const syncFormDataToMemoryCache = useRealtimeCallback(\n    (currentInsured: string) => {\n      if (currentInsured) {\n        setApplyFormMemoryCache((prev) => {\n          const tmp = cloneDeep(prev);\n          tmp[currentInsured] = {\n            ...tmp[currentInsured],\n            applyInfoForm: form1Ref.current?.getValues() as IApplyInfoForm,\n            materialForm: form2Ref.current?.getValues() as IMaterialForm,\n          };\n          return tmp;\n        });\n      }\n    },\n  );\n  /** 读取对应出险人的浏览器缓存至表单信息 */\n  const syncMemoryCacheToFormData = useRealtimeCallback(\n    (currentInsured: string) => {\n      const cachedData = applyFormMemoryCache[currentInsured];\n      if (cachedData) {\n        const applyFormInfo = getValuedProp(cachedData.applyInfoForm) ?? {};\n        form1Ref.current?.form?.resetFields(\n          Object.keys(initApplyInfoFormValue).filter(\n            (key) =>\n              !['insuredIdNo', 'applicantName', 'applyPhone'].includes(key),\n          ),\n        );\n        form1Ref.current?.form?.setFieldsValue(applyFormInfo);\n        form2Ref.current?.form?.setFieldsValue(\n          getValuedProp(cachedData.materialForm ?? {}) as FieldValues,\n        );\n      } else {\n        form1Ref.current?.form?.resetFields(\n          Object.keys(initApplyInfoFormValue).filter(\n            (key) =>\n              !['insuredIdNo', 'applicantName', 'applyPhone'].includes(key),\n          ),\n        );\n        form2Ref.current?.form?.resetFields();\n      }\n    },\n  );\n  /**  */\n  useEffect(() => {\n    if (webHistoryState.isClaimDetailBack) {\n      setWebHistoryState({ isClaimDetailBack: false });\n      history.goBack();\n    } else {\n      setNeedInit(true);\n    }\n  }, []);\n  /** 读取接口缓存 */\n  useEffect(() => {\n    (async () => {\n      if (needInit && policyInfoLoaded) {\n        try {\n          const allInsuredIdNos = allPolicyList.map((p) => p.insuredIdNo);\n          const allMatchedCache = await getBatchCache(uniq(allInsuredIdNos));\n          /** 将接口缓存信息 存入 浏览器内存中 */\n          setApplyFormMemoryCache(\n            formatAPICacheToMemoryCache(allMatchedCache.data),\n          );\n        } catch (error) {\n          Sentry.reportError('申请理赔页：批量获取缓存接口异常', { error });\n        } finally {\n          setCacheLoaded(true);\n        }\n      }\n    })();\n  }, [allPolicyList, policyInfoLoaded, needInit, setApplyFormMemoryCache]);\n  /** 保单信息初始化\n   * 如果当前无可用保单，跳转指引页\n   * 如果携带保单号，设置唯一出险人\n   * 如果只有一个出险人，设置唯一出险人 */\n  useEffect(() => {\n    if (needInit) {\n      if (policyInfoLoaded && filterdPolicyList.length < 1) {\n        Sentry.reportMessage('申请理赔页：当前无可用保单');\n        history.replace('/apply-guide');\n        return;\n      }\n      if (policyNo && policyInfoLoaded) {\n        setSpecInsured(specifyUserInsuredId);\n      } else if (\n        policyInfoLoaded &&\n        policyFilterInfo.formOptions.insuredName.length === 1\n      ) {\n        Sentry.reportMessage('申请理赔页：唯一被保人');\n        setSpecInsured(policyFilterInfo.formOptions.insuredName[0].value);\n      }\n    }\n  }, [history, policyInfoLoaded, policyNo, needInit, specifyUserInsuredId]);\n  /** 初始化出险人数据 */\n  useLayoutEffect(() => {\n    if (loaded && specInsured) {\n      syncMemoryCacheToFormData(specInsured);\n      form1Ref.current?.setValue('insuredIdNo', specInsured);\n    }\n  }, [loaded, specInsured, syncMemoryCacheToFormData]);\n  /** 监听浏览器返回 区分第一步、第二步 */\n  const handlePageBack = useCallback(() => {\n    console.info('==> handlePageBack <==', currentStep, isNavigatorBack);\n    if (currentStep === Step.two && isNavigatorBack) {\n      ApplyTrackHelper.trackClmBackPopupView();\n      let flag = true;\n      Modal.confirm({\n        showCloseButton: true,\n        title: '提示',\n        content: '您有信息未保存，如退出理赔申请您的信息将丢失',\n        cancelText: '返回上一步',\n        confirmText: '退出理赔',\n        onClose: () => {\n          if (flag) {\n            window.history.pushState(null, '');\n          }\n        },\n        onCancel: () => {\n          ApplyTrackHelper.trackClmBackPopupClick('返回上一步');\n          flag = false;\n          setCurrentStep(Step.one);\n          setNeedPushState(true);\n        },\n        onConfirm: () => {\n          ApplyTrackHelper.trackClmBackPopupClick('退出理赔');\n          flag = false;\n          window.removeEventListener('popstate', handlePageBack);\n          history.goBack();\n        },\n      });\n    } else {\n      window.removeEventListener('popstate', handlePageBack);\n      history.goBack();\n    }\n  }, [currentStep, history, isNavigatorBack]);\n  useEffect(() => {\n    /** 方式二：监听浏览器的 popstate 事件，即页面返回事件 */\n    window.addEventListener('popstate', handlePageBack);\n    return () => {\n      window.removeEventListener('popstate', handlePageBack);\n    };\n  }, [handlePageBack, history]);\n  /** 材料上传页面固定弹窗 && 滚动至顶部 */\n  useLayoutEffect(() => {\n    Modal.clear();\n    if (currentStep === Step.two) {\n      const classNames = map(materialForForm2, 'materialCode');\n      scrollIntoViewWithOffset(classNames[0], 40);\n      Modal.alert({\n        title: '重要提示',\n        content: (\n          <LeftAlignText>\n            同一出险人如需申请多笔理赔案件，请您在本次申请中将多笔案件的申请资料全部完整上传，无需分开多个案件上传，否则只能等本案结案后再申请下笔理赔，将影响您的赔付效率\n          </LeftAlignText>\n        ),\n        // 白屏检测标识注入：__cpic_tthp_apply_iknow_btn\n        confirmText: (\n          <span className={devClassName('tthp_apply_iknow_btn')}>我知道了</span>\n        ),\n      });\n    }\n  }, [currentStep]);\n  /** 关闭所有modal */\n  useEffect(() => {\n    return () => {\n      Modal.clear();\n    };\n  }, []);\n\n  if (!loaded) {\n    return <Loading fullPage={true} type=\"mini\" />;\n  }\n\n  return (\n    <Container\n      reportable={{ event_id: 'page_enter', page_name: '理赔申请信息填写页' }}\n    >\n      <HeaderWarning />\n      <Steps currentStep={currentStep} stepClicked={stepClicked} />\n      <Content style={{ display: currentStep === Step.one ? 'block' : 'none' }}>\n        <ApplyInfoForm\n          ref={form1Ref}\n          compositPolicyInfo={compositPolicyInfo}\n          // formValue={form1Value}\n          onFinish={onFinish1}\n          onFinishFailed={onFinishFailed1}\n          sync={syncFormDataToMemoryCache}\n          insuredUserChanged={syncMemoryCacheToFormData}\n        />\n      </Content>\n      <Content style={{ display: currentStep === Step.two ? 'block' : 'none' }}>\n        <MaterialForm\n          ref={form2Ref}\n          policyFilterInfo={policyFilterInfo}\n          onFinish={onFinish2}\n          onFinishFailed={onFinishFailed2}\n          materials={materialForForm2}\n          insuredIdNo={insuredIdNo}\n        />\n      </Content>\n      <ApplyFooter\n        tmpSaveBtnDisabled={!insuredIdNo}\n        nextBtnDisabled={nextBtnDisabled}\n        nextLoading={nextLoading || gettingMedicalToken}\n        tmpSaveBtnLoading={tmpSaveBtnLoading}\n        nextBtnClick={nextBtnClick}\n        tmpSaveBtnClick={saveToAPICache}\n        cancelApplyBtnClick={handleCancelApply}\n        btnWrapClassName={devClassName('tthp_apply_next_btn')}\n      />\n    </Container>\n  );\n});\n","import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.match-all.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment, createElement } from 'react';\nvar DefaultContainer = function DefaultContainer(_ref) {\n  var children = _ref.children;\n  return jsx(\"div\", {\n    children: children\n  });\n};\nfunction ResolveText(_ref2) {\n  var text = _ref2.text,\n    data = _ref2.data,\n    renderWrapper = _ref2.renderWrapper,\n    _ref2$container = _ref2.container,\n    container = _ref2$container === void 0 ? DefaultContainer : _ref2$container;\n  var matchArr = Array.from(text.matchAll(/\\$\\{(.*?)\\}/g));\n  var strSrr = text.split(/\\$\\{.*?\\}/g);\n  if (matchArr.length < 1) {\n    return jsx(\"span\", {\n      children: text\n    }, text);\n  }\n  var ele = strSrr.map(function (str, idx) {\n    var varItem = matchArr[idx - 1];\n    if (!varItem) {\n      return jsx(\"span\", {\n        children: str\n      }, str);\n    }\n    var key = varItem[1];\n    var val = data[key];\n    return jsxs(Fragment, {\n      children: [renderWrapper(val), jsx(\"span\", {\n        children: str\n      })]\n    }, '' + key + val);\n  });\n  return createElement(container, {}, ele);\n}\nexport { ResolveText as default };\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSearchBarClear(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.4,\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM4.818 5.525a.5.5 0 1 1 .707-.707L8 7.293l2.475-2.475a.5.5 0 1 1 .707.707L8.707 8l2.475 2.475a.5.5 0 0 1-.707.707L8 8.707l-2.475 2.475a.5.5 0 0 1-.707-.707L7.293 8 4.818 5.525z\",\n    fill: \"#0C1E3D\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearchBarClear);\nexport default __webpack_public_path__ + \"static/media/search-bar-clear.f1c3d1ba.svg\";\nexport { ForwardRef as ReactComponent };","import \"core-js/modules/es.array.slice.js\";\nvar _templateObject;\nimport \"core-js/modules/es.object.assign.js\";\nfunction _taggedTemplateLiteralLoose(strings, raw) { if (!raw) { raw = strings.slice(0); } strings.raw = raw; return strings; }\nimport { jsx } from 'react/jsx-runtime';\nimport 'antd-mobile/es/global/global.css';\nimport '../../base.css';\nimport { SearchBar as SearchBar$1 } from 'antd-mobile';\nimport { memo, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport clearSvg from '../../assets/svg/search-bar-clear.svg';\nvar SearchBarStyle = styled(SearchBar$1)(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  &.adm-search-bar {\\n    --background: var(--navyblue-20);\\n    --border-radius: 999px;\\n    --height: 36px;\\n    --padding-left: 16px;\\n    --placeholder-color: var(--text-color-dark-40);\\n    --adm-color-primary: transparent;\\n    --adm-color-background: var(--background);\\n    font-size: var(--title-4-font-size);\\n    line-height: var(--line-height);\\n    font-weight: var(--font-weight-regular);\\n\\n    .adm-search-bar-input-box .adm-search-bar-input-box-icon {\\n      --adm-color-light: #c4c4c4;\\n      font-size: 20px;\\n      margin-right: 8px;\\n    }\\n\\n    .adm-search-bar-input-box .adm-search-bar-input {\\n      padding: 0;\\n    }\\n  }\\n\\n  &.adm-search-bar-active .adm-input.adm-input.adm-input {\\n    --placeholder-color: var(--text-color-dark-40);\\n  }\\n\\n  .adm-input-clear {\\n    --adm-font-size-7: 16px;\\n    --adm-color-light: var(--navyblue-100);\\n    svg {\\n      display: none;\\n    }\\n    width: 24px;\\n    height: 24px;\\n    box-sizing: border-box;\\n    background: url(\", \") no-repeat;\\n    background-size: 1em 1em;\\n    background-position: 4px 4px;\\n    margin-right: 12px;\\n  }\\n\\n  // \\u53D6\\u6D88\\u6309\\u94AE\\n  &.adm-search-bar .adm-search-bar-suffix {\\n    --adm-font-size-9: var(--title-4-font-size);\\n    .adm-button {\\n      --text-color: var(--text-color-dark-80);\\n      padding-right: 0;\\n      // \\u6309\\u94AE\\u70B9\\u51FB\\u7684\\u9634\\u5F71\\u6548\\u679C \\u8BBE\\u8BA1\\u8981\\u6C42\\u53BB\\u6389  \\u6682\\u65F6\\u672A\\u5B9A\\u4E49\\n      &::before {\\n        display: none;\\n      }\\n    }\\n  }\\n\"])), clearSvg);\nvar SearchBar = memo(forwardRef(function (props, forwardedRef) {\n  return jsx(SearchBarStyle, Object.assign({}, props, {\n    ref: forwardedRef\n  }));\n}));\nexport { SearchBar as default };\n"],"names":["_path","_path2","_path3","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgImportant","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","getBatchCache","insuredIdNos","postDataWithEncrypt","updateCache","currentStep","operation","data","claimSource","candidate","form","sourceFrom","cancelApply","insuredIdNo","uploadImgs","file","bodyFormData","FormData","append","postData","headers","canDoApply","policy","policyNo","classCode","accidentDate","accidentCode","insuredClaimEmpower","checkType","getMedicalInsuranceToken","BankType","config","useVenusConfig","bankOptions","commonFormOption","bank","bankPatterns","bankPattern","bankMap","reduce","pre","next","value","label","getMatchedBankPattern","useRealtimeCallback","cardNumber","matchedPattern","find","patterns","it","RegExp","reg","test","getMatchedBank","bankCode","getValueByLabel","bankName","isCreditCard","parsedCardNumber","replace","_bankPattern$patterns","cardType","CC","isValidBankCardNumber","rawCardNumber","_config$commonFormOpt2","history","useHistory","gettingMedicalToken","setGettingMedicalToken","useState","canMedicalInsuranceAuthorization","useCallback","insuredIdType","_config$commonFormOpt","medicalInsuranceAuthorizationAvailable","UA","isJkxWXMiniprogram","isLybWXMiniprogram","MEDICAL_AUTHORIZATION_AVAILABLE_IDCARD","includes","toString","dealMedicalInsuranceAuthorization","async","_matchedPolicy$policy","_matchedPolicy$classC","applySubmitUrl","concat","matchedPolicy","res","option","_a","_b","_c","isWXMiniprogram","console","error","path","redirectType","success","fail","complete","url","startsWith","wx","window","miniProgram","jumpToWXMiniProgramPage","encodeURIComponent","location","protocol","host","token","failInfo","Sentry","reportError","push","webHistoryState","atom","default","isClaimDetailBack","useWebHistoryState","useRecoilState","circleReport","func","dataArr","forEach","item","getApplyStepPageName","step","Step","one","trackClmWaitingPeriodPopupView","track","view","btnName","click","button_name","page_name","trackClmCancelPopupClick","trackClmProductInfoTabView","coverageNumber","coverage_number","is_replace_clm","relation","is_underage","adult","PersonAge","materials","material","profile_type","profileType","pic_number","picNumber","two","lackProfileNames","name","lack_profile_name","trackClmBackPopupView","trackClmProgressBarClick","undefined","profile_type_number","essent_profile_type_number","filter","required","getValuedFields","uploadFiles","_Object$getOwnPropert","formatImgData","imgs","getOwnPropertyNames","_imgs$item","map","ocrType","ocrCode","checkCanApply","form1Ref","_form1Ref$current","_form1Ref$current2","_form1Ref$current2$fo","claimAgencyInfoVisible","current","insuredClaimEmpowerPic","getFieldValue","scrollIntoViewWithOffset","Toast","show","_form1Ref$current3","_form1Ref$current3$fo","_form1Ref$current4","_form1Ref$current4$fo","_form1Ref$current4$fo2","code","flag","status","_data$msg","CheckStatus","repetition","Modal","alert","content","msg","confirmText","waitingPeriod","ApplyTrackHelper","waitingPeriodPopupCancelFlag","confirm","cancelText","onConfirm","onCancel","onClose","invalidPolicy","noOnlineSupport","_data$msg2","reportMessage","tmpSave","form2Ref","policyList","_form2Ref$current","form1Data","getValues","form2Data","entries","k","v","Array","isArray","t","Boolean","cache","className","applyFormMemoryCacheState","useApplyFormMemoryCacheStore","userInfo","useRecoilValue","loginUserInfoState","SvgGreyStar","fillRule","clipRule","fillOpacity","style","SvgOrangeCamera","SvgOrangeRefresh","Container","styled","div","_templateObject","_taggedTemplateLiteral","FooterWrap","_templateObject2","BtnLabel","_templateObject3","UploadButtonWrap","_templateObject4","StyleInput","input","_templateObject5","HintWrap","span","_templateObject6","StyledBtn","Button","_templateObject7","OrangeHint","_templateObject8","StyledDesc","_templateObject9","GreyStarIconWrap","_templateObject10","TopText","memo","insuredName","useNewLoginUserInfo","_jsxs","_Fragment","children","_jsx","ResolveText","text","orangeHintText","container","renderWrapper","txt","GreyStarIcon","_ref2","onChange","uploadLoading","setUploadLoading","uploadAuthImage","e","persist","files","rawFiles","slice","targetFile","size","nameArr","split","_error$msg","viewPic","ImageViewer","Multi","images","onClick","loading","RefreshIcon","CameraIcon","accept","multiple","type","StyledLabel","hasValue","css","StyledDrawer","Drawer","NoItem","drawerHeight","Header","Content","Item","forwardRef","_ref3","forwardedRef","_options$find$label","_options$find","showSearch","drawerTitle","placeholder","options","visible","setVisible","searchValue","setSearchValue","useImperativeHandle","open","_options","useMemo","onSearch","val","onItemClick","position","showCloseButton","onCloseClick","SearchBar","onClear","disabled","Right","SvgBoldCheckMark","Wrap","StyledBarItem","checked","BarLabel","CheckedIcon","BoldCheckMark","BarItem","_ref4","desc","_ref5","barItemClicked","itemValue","index","findIndex","newValue","splice","SvgRequired","SvgQuestion2","StyledQuestion","Question","notes","card","info","note","LabelPopupDesc","configData","noun","accidentType","MSpan","AccidentDateDesc","AccidentTypeDesc","ExampleViewer","onMaskClick","header","detail","imgURL","src","alt","NormalText","StyledHeader4","StyledRequiredIcon","RequiredIcon","StyledP","p","UploadLabel","accessWay","SectionHeader","Action","Ele","labelNote","_label","SyncAddressBtnWrap","needSyncBtn","onSync","others","handleChange","trim","Input","useBankHelper","_value","handleBlur","onChangeFormat","onBlur","Suffix","suffix","toFixed","isNaN","Number","_Number","fixedValue","ReportableInjected","Div","Visible","Layout","Footer","Border","attrs","side","Cancel","FooterButton","SaveBtn","NextBtn","FormSection","ApplyInfoFormInputItem","Form","StyledMaterialFormItem","_templateObject11","compositPolicyInfo","onFinish","onFinishFailed","formValue","sync","insuredUserChanged","useForm","applyFormMemoryCache","policyInfo","policyFilterInfo","filterPolicyInfo","updatePolicyInfo","getMatchPolicy","formOptions","isMe","insuredUserName","insuredId","syncAddress","accTypeVisible","claimAmountVisible","insuranceInfoVisible","antiMoneyLaundringVisible","payeeInfoVisible","matchedProductVisible","applyInfoForm","filteredPolicyInfo","useWatch","accType","clmAmount","_formOptions$insuredN","_formOptions$insuredN2","certiNo","_intersection","intersection","notNeedClaimAmountAccType","some","empno","_intersection2","needAntiMoneyAccType","insuredAddress","setFieldValue","validateFields","useApplyInfoFormHelper","beforeInsuredUserChange","insuredIdNoChanged","filterPolicyByFormValue","_form$getFieldValue","insuredCode","TelReg","mobileValidator","_","String","Promise","resolve","reject","Error","amountValidator","cardNumberValidator","payeeAcctChanged","bankCardNumber","_matchedBank$bankCode","matchedBank","getValue","_applyFormMemoryCache","formData","getFieldsValue","cachedInfo","additionalData","payeeBankName","getLabelByValue","payeeBank","applicantId","applicantIdType","certiType","applicantRelation","additionalAntiMoneyInfo","insuredOccupation","setValue","setFieldsValue","submit","useEffect","payeeName","child","applicantName","_userInfo$name","applyPhone","phone","initialValues","layout","bottomLine","rules","message","InsuredUserPick","pickerTitle","displayExpand","beforeChange","ClaimAgencyInfo","FormItemLabel","DatePicker","min","Date","accidentDateMin","max","accidentDateMax","textAlign","valueFormat","displayFormat","Selector","disableEmpty","onDisabledClick","BarListSelector","validator","InputNumber","validateTrigger","InputMobile","InputAddress","readOnly","InputBank","BankSelector","MatchClaimProduct","products","filteredPolicyList","pageName","nextLoading","tmpSaveBtnLoading","tmpSaveBtnDisabled","nextBtnDisabled","nextBtnClick","tmpSaveBtnClick","cancelApplyBtnClick","btnWrapClassName","loadingText","HeaderWarning","StyledImportantSvg","WarningText","ImportantSvg","SvgFinish","Steps","StepBtn","Line","StepStatus","stepClicked","stepList","stepName","stepSequence","isLastStep","isStepFinished","calcStepStatus","active","finished","deactive","stepData","Fragment","FinishSvg","isIos","ImageUploaderMap","ImgUploader","ImageUploader","beforeUpload","upload","URL","createObjectURL","IDCardImgUploader","IDCardImageUploader2","materialWidgetList","getShow","showCondition","materialForRender","genMaterialValidator","materialValidator","materialWidget","materialCode","Widget","widget","description","MaterialTip","MaterialList","LeftAlignText","initApplyInfoFormValue","insuredPhone","applicantPhone","applicantOccupation","applicantAddress","payeeAcct","parseQuery","setWebHistoryState","useMedicalInsuranceAuthHelper","needPushState","setNeedPushState","isNavigatorBack","setIsNavigatorBack","needInit","setNeedInit","materialUploadKeys","useClaimSourceStore","setApplyFormMemoryCache","usePolicyListInfo","filterdPolicyList","allPolicyList","policyInfoLoaded","specifyUserInsuredId","useRef","specInsured","setSpecInsured","setCurrentStep","setNextLoading","setTmpSaveBtnLoading","cacheLoaded","setCacheLoaded","loaded","materialForForm2","accTypeMaterialMap","tmpMaterailList","acc","cur","_accTypeMaterialMap$c","groupedMaterialList","groupBy","result","keys","sortBy","a","onFinish1","FromOperation","Next","pushState","ocrPopupCloseFlag","onOcrPopupCancel","onOcrPopupClose","onOcrPopupConfirm","_intersection$","classNames","targetClassName","onFinish2","_form2Ref$current2","_form2Ref$current2$fo","tmp","_materials$key","OCR_CHECK_FAIL","_tipInfos","tipInfos","errorInfo","JSON","parse","tipInfo","onFinishFailed1","errorMsg","_Object$keys$find","firstErrorFieldName","f","_errorMsg$errorFields","errorFields","ef","onFinishFailed2","firstErrorField","saveToAPICache","Save","_error$msg2","afterCancelApply","setTimeout","goBack","handleCancelApply","modalCloseIconClicked","afterShow","_form1Ref$current$get","syncFormDataToMemoryCache","currentInsured","prev","_form1Ref$current5","_form2Ref$current3","cloneDeep","materialForm","syncMemoryCacheToFormData","cachedData","_getValuedProp","_form1Ref$current6","_form1Ref$current6$fo","_form1Ref$current7","_form1Ref$current7$fo","_form2Ref$current4","_form2Ref$current4$fo","_cachedData$materialF","applyFormInfo","getValuedProp","resetFields","_form1Ref$current8","_form1Ref$current8$fo","_form2Ref$current5","_form2Ref$current5$fo","allInsuredIdNos","allMatchedCache","uniq","apiCaches","formatAPICacheToMemoryCache","useLayoutEffect","_form1Ref$current9","handlePageBack","removeEventListener","addEventListener","clear","devClassName","reportable","event_id","display","ApplyInfoForm","MaterialForm","ApplyFooter","Loading","fullPage","DefaultContainer","jsx","_ref2$container","matchArr","from","matchAll","strSrr","ele","str","idx","varItem","jsxs","createElement","strings","raw","SearchBarStyle","SearchBar$1","clearSvg"],"mappings":"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"}